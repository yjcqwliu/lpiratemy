

Processing HomeController#index (for 127.0.0.1 at 2008-10-15 14:27:48) [POST]
  Session ID: f14f27c2b2cd1ed5366265db79b8600b
  Parameters: {"my_extra"=>"", "my_sig_key"=>"66f952b4a18a29a1c83433de520c861d", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052070", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f58d660018d6a89ef7d4c3aa4d2e2a", "my_sig_in_canvas"=>"1"}
  [4;36;1mSQL (0.000000)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f58d660018d6a89ef7d4c3aa4d2e2a', `updated_at` = '2008-10-15 06:27:49' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Load (0.000000)[0m   [0;1mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.016000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.016000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;36;1mNotice Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `notices`[0m
Completed in 0.29700 (3 reqs/sec) | Rendering: 0.14000 (47%) | DB: 0.06300 (21%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-15 14:27:53) [POST]
  Session ID: f9f8f34f9f1476c85f5ce48a0366f1ba
  Parameters: {"my_extra"=>"", "my_sig_key"=>"dfe41c30f4d7ad45bc41c33c176974ef", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052074", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f58d6a0018d6a83b304c4a7f3e2c0d", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f58d6a0018d6a83b304c4a7f3e2c0d', `updated_at` = '2008-10-15 06:27:53' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.09400 (10 reqs/sec) | Rendering: 0.01500 (15%) | DB: 0.04700 (49%) | 200 OK [http://61.172.255.117/home/invite?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-15 14:31:39) [POST]
  Session ID: 541c7379dad32eaf68f42cfe51d2f56f
  Parameters: {"my_extra"=>"", "my_sig_key"=>"cce6b348debb6078e31a924b6391c567", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052300", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f58e4c0018d6a8fa8c051c63ec3051", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f58e4c0018d6a8fa8c051c63ec3051', `updated_at` = '2008-10-15 06:31:39' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Load (0.000000)[0m   [0;1mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;36;1mNotice Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `notices`[0m
Completed in 0.35900 (2 reqs/sec) | Rendering: 0.10800 (30%) | DB: 0.09500 (26%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-15 14:31:55) [POST]
  Session ID: 9bdf1a4af3ce6fee3991df2a2a332107
  Parameters: {"my_extra"=>"", "my_sig_key"=>"0ec747742b443aa04ff9849e7ba8742c", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052316", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f58e5c0018d6a84b2a59da4bdc3918", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f58e5c0018d6a84b2a59da4bdc3918', `updated_at` = '2008-10-15 06:31:55' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.09300 (10 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.04700 (50%) | 200 OK [http://61.172.255.117/home/invite?&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-15 14:32:04) [POST]
  Session ID: c369af02d6bcaa3c1773cd0b0ca31aca
  Parameters: {"my_extra"=>"", "my_sig_key"=>"056fa5318508783479d1c12c2c39bb7d", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052325", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f58e650018d6a82506dbcb73867f22", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f58e650018d6a82506dbcb73867f22', `updated_at` = '2008-10-15 06:32:04' WHERE `id` = 26[0m
  [4;35;1mSQL (0.109000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.17200 (5 reqs/sec) | Rendering: 0.01600 (9%) | DB: 0.12400 (72%) | 200 OK [http://61.172.255.117/home/invite?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-15 14:32:23) [POST]
  Session ID: affd9d99f82eec2dbbf1e76bcd67a147
  Parameters: {"my_extra"=>"", "my_sig_key"=>"8c31a15972177876413bc023443f5241", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052345", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f58e790018d6a80015d1f9a30e4dd2", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f58e790018d6a80015d1f9a30e4dd2', `updated_at` = '2008-10-15 06:32:23' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Load (0.000000)[0m   [0;1mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;36;1mNotice Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `notices`[0m
Completed in 0.37500 (2 reqs/sec) | Rendering: 0.26500 (70%) | DB: 0.06300 (16%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-15 14:32:29) [POST]
  Session ID: 24573c929242d67c7b02b735ec904a09
  Parameters: {"my_extra"=>"", "my_sig_key"=>"6bbad896133abb4f42247e1bc6e018ae", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052350", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f58e7e0018d6a8d38d3ecfe677bce8", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f58e7e0018d6a8d38d3ecfe677bce8', `updated_at` = '2008-10-15 06:32:29' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.07800 (12 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.03100 (39%) | 200 OK [http://61.172.255.117/home/invite?&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-15 14:32:44) [POST]
  Session ID: 7f0574aa61a28a47ae7668167822144e
  Parameters: {"my_extra"=>"", "my_sig_key"=>"f797095836440bea4d689ca1a1ca43dd", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052366", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f58e8e0018d6a88ce4ce6bd71244df", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.015000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f58e8e0018d6a88ce4ce6bd71244df', `updated_at` = '2008-10-15 06:32:44' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.09400 (10 reqs/sec) | Rendering: 0.01600 (17%) | DB: 0.06200 (65%) | 200 OK [http://61.172.255.117/home/invite?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-15 14:38:41) [POST]
  Session ID: 083bc130167a4562571e15485acfc798
  Parameters: {"my_extra"=>"", "my_sig_key"=>"15bc75f6a3776fd3b2bc4cbd9b281a9a", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052722", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f58ff20018d6a87aefca46ab5c9593", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f58ff20018d6a87aefca46ab5c9593', `updated_at` = '2008-10-15 06:38:41' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Load (0.000000)[0m   [0;1mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;36;1mNotice Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `notices`[0m
Completed in 0.23400 (4 reqs/sec) | Rendering: 0.10900 (46%) | DB: 0.06300 (26%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-15 14:38:46) [POST]
  Session ID: 229408d6dbef762727176ce0476ee88c
  Parameters: {"my_extra"=>"", "my_sig_key"=>"30c307317e87bcf201f1b63d2f9fc113", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052727", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f58ff70018d6a8dc3d34617578a05b", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f58ff70018d6a8dc3d34617578a05b', `updated_at` = '2008-10-15 06:38:46' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.09400 (10 reqs/sec) | Rendering: 0.01600 (17%) | DB: 0.04600 (48%) | 200 OK [http://61.172.255.117/home/invite?&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-15 14:40:09) [POST]
  Session ID: 82022f8941f579ffcf4d9ee08cb9fd0a
  Parameters: {"my_extra"=>"", "my_sig_key"=>"39d2f7eb1416666e5509bc0e0aab9238", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052810", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f5904a0018d6a8ef14ef782c039d1d", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f5904a0018d6a8ef14ef782c039d1d', `updated_at` = '2008-10-15 06:40:09' WHERE `id` = 26[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.07800 (12 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.03200 (41%) | 200 OK [http://61.172.255.117/home/invite?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-15 14:41:26) [POST]
  Session ID: f41d4f1501d056ff44f334560b3ef440
  Parameters: {"my_extra"=>"", "my_sig_key"=>"423993fdd78233657b8069c7f24e7428", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052887", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f590970018d6a8efb95a04aa481115", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f590970018d6a8efb95a04aa481115', `updated_at` = '2008-10-15 06:41:26' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Load (0.000000)[0m   [0;1mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;36;1mNotice Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `notices`[0m
Completed in 0.21800 (4 reqs/sec) | Rendering: 0.07800 (35%) | DB: 0.09400 (43%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-15 14:41:30) [POST]
  Session ID: 8c7094e87e387b87fbd7db3d75217b0c
  Parameters: {"my_extra"=>"", "my_sig_key"=>"9262a4e7a5da3d0b416a5dd982af6fce", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052891", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f5909b0018d6a8b7af9398888820a3", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f5909b0018d6a8b7af9398888820a3', `updated_at` = '2008-10-15 06:41:30' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.21900 (4 reqs/sec) | Rendering: 0.01600 (7%) | DB: 0.04600 (21%) | 200 OK [http://61.172.255.117/home/invite?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-15 14:41:54) [POST]
  Session ID: 613cf12dd9bdd78e19bb844360869f3b
  Parameters: {"my_extra"=>"", "my_sig_key"=>"d1bf14a79bd7e2b4248f1fa2895bc835", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052915", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f590b30018d6a899702328c9c8b7ff", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f590b30018d6a899702328c9c8b7ff', `updated_at` = '2008-10-15 06:41:54' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Load (0.000000)[0m   [0;1mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;36;1mNotice Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `notices`[0m
Completed in 0.21900 (4 reqs/sec) | Rendering: 0.07800 (35%) | DB: 0.09300 (42%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-15 14:42:02) [POST]
  Session ID: ed9bbddc24c21e3f84827f2d763cf97d
  Parameters: {"my_extra"=>"", "my_sig_key"=>"e63af8901631f53e80a1105c00dec6e4", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052923", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f590bb0018d6a8039fe25980f76a7b", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f590bb0018d6a8039fe25980f76a7b', `updated_at` = '2008-10-15 06:42:02' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1630999' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.18800 (5 reqs/sec) | Rendering: 0.09400 (49%) | DB: 0.06300 (33%) | 200 OK [http://61.172.255.117/home/friend?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-15 14:43:09) [POST]
  Session ID: 88c47abdaef65924bb15a55f2e4df6ce
  Parameters: {"my_extra"=>"", "my_sig_key"=>"ba7f8afb27f315e7bd76d09f8b661073", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052990", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f590fe0018d6a881d2243c02981194", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f590fe0018d6a881d2243c02981194', `updated_at` = '2008-10-15 06:43:09' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.000000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.015000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;35;1mNotice Columns (0.000000)[0m   [0mSHOW FIELDS FROM `notices`[0m
Completed in 0.35900 (2 reqs/sec) | Rendering: 0.11000 (30%) | DB: 0.06200 (17%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-15 14:43:14) [POST]
  Session ID: 4c387cb7614fcb00e6a4fe49a32b64dc
  Parameters: {"my_extra"=>"", "my_sig_key"=>"5426d0faf3286f0d455c3132c0f89738", "my_sig_v"=>"0.1", "my_sig_time"=>"1224052995", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366", "my_sig_sessionId"=>"48f591030018d6a8ff366d90857324e8", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.016000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n', `session_key` = '48f591030018d6a8ff366d90857324e8', `updated_at` = '2008-10-15 06:43:14' WHERE `id` = 26[0m
  [4;36;1mSQL (0.032000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.09400 (10 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.04800 (51%) | 200 OK [http://61.172.255.117/home/invite?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 11:54:31) [POST]
  Session ID: fa289833bf5ef5ccebb5d94588013a79
  Parameters: {"my_extra"=>"", "my_sig_key"=>"2f53c4e9bdd566d341b1266344f70caa", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820484", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366,111622491", "my_sig_sessionId"=>"490147040018d6a851f8e554d0a4e679", "my_sig_in_canvas"=>"1"}
  [4;36;1mSQL (0.047000)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.125000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mNotice Columns (0.078000)[0m   [0mSHOW FIELDS FROM `notices`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mNotice Create (0.000000)[0m   [0mINSERT INTO `notices` (`updated_at`, `sented`, `noticed`, `content`, `user_id`, `from_xid`, `to_xid`, `ltype`, `created_at`) VALUES('2008-10-24 03:54:31', NULL, NULL, '<a href=\"/home/friend/1627816\"><my:name uid=\"1627816\" /></a>踏入了海盗时代，从自己的港口收取了300金币保护费', 26, '1627816', '1627816', 10, '2008-10-24 03:54:31')[0m
  [4;36;1mSQL (0.125000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.031000)[0m   [0;1mUPDATE `users` SET `gold` = 2782, `award_updated_at` = '2008-10-24 03:54:31', `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"111622491\"\n', `session_key` = '490147040018d6a851f8e554d0a4e679', `business_count` = 0, `updated_at` = '2008-10-24 03:54:32' WHERE `id` = 26[0m
  [4;35;1mSQL (0.078000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Load (0.000000)[0m   [0;1mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.047000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.031000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 1.23400 (0 reqs/sec) | Rendering: 0.20300 (16%) | DB: 0.57700 (46%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-24 11:54:41) [POST]
  Session ID: 1b7435cddb4ae9e0f9028eefb3fae3de
  Parameters: {"my_extra"=>"", "my_sig_key"=>"cd2174f880b0db8da2c481048732b487", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820494", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366,111622491", "my_sig_sessionId"=>"4901470e0018d6a87e9fe6b00ec39433", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"111622491\"\n', `session_key` = '4901470e0018d6a87e9fe6b00ec39433', `updated_at` = '2008-10-24 03:54:41' WHERE `id` = 26[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','111622491') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.09400 (10 reqs/sec) | Rendering: 0.01600 (17%) | DB: 0.04700 (50%) | 200 OK [http://61.172.255.117/home/invite?&my_extra=]


Processing ApplicationController#index (for 127.0.0.1 at 2008-10-24 11:55:12) [POST]
  Session ID: 768e62b6e612bdd9c28fca53780f40d7
  Parameters: {"my_sig_key"=>"ac174e175f0d1c7fde80f8be2870b982", "ids"=>{"0"=>"1591816", "1"=>"1630999", "2"=>"1641434"}, "mfs_typeahead_req_form_app1007725_myformb"=>"输入好友用户名", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820525", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366,111622491", "my_sig_sessionId"=>"4901472d0018d6a8eeae5b43596f6cce", "my_sig_in_canvas"=>"1"}


ActionController::RoutingError (No route matches "/1007758/home/invite" with {:method=>:post}):
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/routing/recognition_optimisation.rb:67:in `recognize_path'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/routing/route_set.rb:384:in `recognize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:148:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#invite (for 127.0.0.1 at 2008-10-24 11:56:02) [POST]
  Session ID: 1934ea36d59844b237ae560509a2b854
  Parameters: {"my_extra"=>"", "my_sig_key"=>"ad8136181671be2b985b89ff7ac2054e", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820575", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366,111622491", "my_sig_sessionId"=>"4901475f0018d6a8727fc4c778fe1052", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"111622491\"\n', `session_key` = '4901475f0018d6a8727fc4c778fe1052', `updated_at` = '2008-10-24 03:56:02' WHERE `id` = 26[0m
  [4;36;1mSQL (0.110000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','111622491') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.17200 (5 reqs/sec) | Rendering: 0.01600 (9%) | DB: 0.11000 (63%) | 200 OK [http://61.172.255.117/home/invite?&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-24 11:56:28) [POST]
  Session ID: 826264ddbf536652b0c72fff922a9d97
  Parameters: {"my_sig_key"=>"4959eea13672b12ecea1366b6138b6ea", "ids"=>{"6"=>"1960366", "0"=>"1591177", "1"=>"1591816", "2"=>"1591894", "3"=>"1641434", "4"=>"1630999", "5"=>"111622491"}, "mfs_typeahead_req_form_app1007725_myformb"=>"输入好友用户名", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820601", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366,111622491", "my_sig_sessionId"=>"490147790018d6a81183d55f3b3ce75f", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"111622491\"\n', `session_key` = '490147790018d6a81183d55f3b3ce75f', `updated_at` = '2008-10-24 03:56:28' WHERE `id` = 26[0m
  [4;36;1mSQL (0.032000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '61960366' ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-24 03:56:28', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '--- \n- \"6\"\n- \"1960366\"\n', 0, NULL, '2008-10-24 03:56:28')[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUsership Columns (0.016000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mShip Load (0.015000)[0m   [0mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUsership Create (0.000000)[0m   [0mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-24 03:56:28', 1, 200, 10, 1000, 37, '2008-10-24 03:56:28', NULL)[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = '--- \n- \"1627816\"\n', `friend_ids` = NULL, `updated_at` = '2008-10-24 03:56:28' WHERE `id` = 37[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '01591177' ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.000000)[0m   [0;1mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-24 03:56:28', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '--- \n- \"0\"\n- \"1591177\"\n', 0, NULL, '2008-10-24 03:56:28')[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUsership Create (0.000000)[0m   [0;1mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-24 03:56:28', 1, 200, 10, 1000, 38, '2008-10-24 03:56:28', NULL)[0m
  [4;35;1mSQL (0.046000)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = '--- \n- \"1627816\"\n', `friend_ids` = NULL, `updated_at` = '2008-10-24 03:56:28' WHERE `id` = 38[0m
  [4;36;1mSQL (0.094000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '11591816' ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-24 03:56:28', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '--- \n- \"1\"\n- \"1591816\"\n', 0, NULL, '2008-10-24 03:56:28')[0m
  [4;36;1mSQL (0.015000)[0m   [0;1mCOMMIT[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUsership Create (0.000000)[0m   [0mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-24 03:56:28', 1, 200, 10, 1000, 39, '2008-10-24 03:56:28', NULL)[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = '--- \n- \"1627816\"\n', `friend_ids` = NULL, `updated_at` = '2008-10-24 03:56:28' WHERE `id` = 39[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '21591894' ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.000000)[0m   [0;1mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-24 03:56:28', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '--- \n- \"2\"\n- \"1591894\"\n', 0, NULL, '2008-10-24 03:56:28')[0m
  [4;35;1mSQL (0.016000)[0m   [0mCOMMIT[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUsership Create (0.000000)[0m   [0;1mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-24 03:56:28', 1, 200, 10, 1000, 40, '2008-10-24 03:56:28', NULL)[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = '--- \n- \"1627816\"\n', `friend_ids` = NULL, `updated_at` = '2008-10-24 03:56:28' WHERE `id` = 40[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '31641434' ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-24 03:56:28', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '--- \n- \"3\"\n- \"1641434\"\n', 0, NULL, '2008-10-24 03:56:28')[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUsership Create (0.000000)[0m   [0mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-24 03:56:28', 1, 200, 10, 1000, 41, '2008-10-24 03:56:28', NULL)[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.016000)[0m   [0;1mUPDATE `users` SET `invite` = '--- \n- \"1627816\"\n', `friend_ids` = NULL, `updated_at` = '2008-10-24 03:56:28' WHERE `id` = 41[0m
  [4;35;1mSQL (0.016000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '41630999' ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.000000)[0m   [0;1mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-24 03:56:28', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '--- \n- \"4\"\n- \"1630999\"\n', 0, NULL, '2008-10-24 03:56:28')[0m
  [4;35;1mSQL (0.016000)[0m   [0mCOMMIT[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUsership Create (0.000000)[0m   [0;1mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-24 03:56:28', 1, 200, 10, 1000, 42, '2008-10-24 03:56:28', NULL)[0m
  [4;35;1mSQL (0.015000)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.016000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = '--- \n- \"1627816\"\n', `friend_ids` = NULL, `updated_at` = '2008-10-24 03:56:28' WHERE `id` = 42[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '5111622491' ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-24 03:56:28', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '--- \n- \"5\"\n- \"111622491\"\n', 0, NULL, '2008-10-24 03:56:28')[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUsership Create (0.000000)[0m   [0mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-24 03:56:28', 1, 200, 10, 1000, 43, '2008-10-24 03:56:28', NULL)[0m
  [4;36;1mSQL (0.032000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = '--- \n- \"1627816\"\n', `friend_ids` = NULL, `updated_at` = '2008-10-24 03:56:29' WHERE `id` = 43[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
Completed in 0.98500 (1 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.76800 (77%) | 200 OK [http://61.172.255.117/home/invite]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-24 11:56:30) [POST]
  Session ID: 742926e591e1db8e80fb3823494841c8
  Parameters: {"my_extra"=>"", "my_sig_key"=>"405c6877e2352e3c4776c9da651a5f73", "notice"=>"成功邀请了7个人，只要他们加入游戏，你就可以获得奖励哦^_^ 谢谢你的支持", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820603", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366,111622491", "my_sig_sessionId"=>"4901477b0018d6a8543a802cdbe4d1dc", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"111622491\"\n', `session_key` = '4901477b0018d6a8543a802cdbe4d1dc', `updated_at` = '2008-10-24 03:56:30' WHERE `id` = 26[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','111622491') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.09300 (10 reqs/sec) | Rendering: 0.01500 (16%) | DB: 0.04700 (50%) | 200 OK [http://61.172.255.117/home/invite?notice=%E6%88%90%E5%8A%9F%E9%82%80%E8%AF%B7%E4%BA%867%E4%B8%AA%E4%BA%BA%EF%BC%8C%E5%8F%AA%E8%A6%81%E4%BB%96%E4%BB%AC%E5%8A%A0%E5%85%A5%E6%B8%B8%E6%88%8F%EF%BC%8C%E4%BD%A0%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%8E%B7%E5%BE%97%E5%A5%96%E5%8A%B1%E5%93%A6%5E_%5E%20%E8%B0%A2%E8%B0%A2%E4%BD%A0%E7%9A%84%E6%94%AF%E6%8C%81&&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 11:56:45) [POST]
  Session ID: c2337b80eef6d5f69c1ea0e643df46d0
  Parameters: {"my_extra"=>"", "my_sig_key"=>"ecff1e85fc403e7d9b8aded891d65267", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820618", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1630999,1641434,1670869,1960366,111622491", "my_sig_sessionId"=>"4901478a0018d6a8330a2e73bce910e5", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"111622491\"\n', `session_key` = '4901478a0018d6a8330a2e73bce910e5', `updated_at` = '2008-10-24 03:56:45' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1630999','1641434','1670869','1960366','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.016000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;35;1mNotice Columns (0.000000)[0m   [0mSHOW FIELDS FROM `notices`[0m
Completed in 0.21900 (4 reqs/sec) | Rendering: 0.10900 (49%) | DB: 0.06300 (28%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 11:58:10) [POST]
  Session ID: 9be334c5f2765beeb42fa58943444603
  Parameters: {"my_extra"=>"", "my_sig_key"=>"17f6582d1b264360e11bb9ad39086742", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820703", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490147df0018d6a88ac0543598ee768e", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.016000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490147df0018d6a88ac0543598ee768e', `updated_at` = '2008-10-24 03:58:10' WHERE `id` = 26[0m
  [4;36;1mSQL (0.032000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_47app47views47home47index46html46erb RAISED compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:224: syntax error, unexpected tINTEGER, expecting ')'
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:help=1 ).to_s); _erbout.concat "\n"
                                                                      ^
Function body: def _run_erb_47app47views47home47index46html46erb(local_assigns)
_erbout = '';  ml = Ml.new ; _erbout.concat "\n"
_erbout.concat "<style type=\"text/css\">\n"
_erbout.concat "#mybody {\n"
_erbout.concat "\twidth: 620px;\n"
_erbout.concat "\tfloat:left;\n"
_erbout.concat "\tpadding: 5px;\n"
_erbout.concat "}\n"
_erbout.concat "#docklist{\n"
_erbout.concat "}\n"
_erbout.concat "#roblist{\n"
_erbout.concat "}\n"
_erbout.concat ".dock {\n"
_erbout.concat "\tfloat: left;\n"
_erbout.concat "\twidth:155px;\n"
_erbout.concat "\ttext-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "#friendlist {\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:300px;\n"
_erbout.concat "overflow:auto;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "#islandinfo{\n"
_erbout.concat "\tcolor:red;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#piratenews{\n"
_erbout.concat "\tcolor:green;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticeone {\n"
_erbout.concat "height:25px;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticecontent {\n"
_erbout.concat "float:left;\n"
_erbout.concat "height:28px;\n"
_erbout.concat "width:500px;\n"
_erbout.concat "}\n"
_erbout.concat "#myshipspan{\n"
_erbout.concat "\tcolor:blue;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat ".ship{\n"
_erbout.concat "float:left;\n"
_erbout.concat "width:180px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "h4 {\n"
_erbout.concat "text-align:center;height:25px;background:#D8DFEA none repeat scroll 0%;\n"
_erbout.concat "border-top:1px solid #3B5888;font-size:14px;font-weight:bold;line-height:25px;font-weight:bold;\n"
_erbout.concat "}\n"
_erbout.concat ".gray{\n"
_erbout.concat "color: #666666;\n"
_erbout.concat "}\n"
_erbout.concat ".gotofriend{\n"
_erbout.concat "color:#0000ff;\n"
_erbout.concat "text-align:right;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticetime {\n"
_erbout.concat "float:right;\n"
_erbout.concat "}\n"
_erbout.concat "#notify\n"
_erbout.concat "{\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:100px;\n"
_erbout.concat "}\n"
_erbout.concat "#business_dock\n"
_erbout.concat "{\n"
_erbout.concat "border:2px solid #225599;\n"
_erbout.concat "float: left;\n"
_erbout.concat "width:151px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat ".gorob{\n"
_erbout.concat "float:right;\n"
_erbout.concat "text-size:15px;\n"
_erbout.concat "}\n"
_erbout.concat "</style>\n"
_erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"mybody\">\n"
_erbout.concat "<div class=\"gotofriend\"></div>\n"
_erbout.concat "<div id=\"islandinfo\">"; _erbout.concat(( ml.userpic("uid" => @user.xid,"linked"=>"true") ).to_s); _erbout.concat(( ml.name("uid"=>@user.xid)).to_s); _erbout.concat "\347\232\204\345\260\217\345\262\233<span class=\"gorob\">"; _erbout.concat(( link_to ">>去抢劫好友",:controller => :home ,:action => :friend  ).to_s); _erbout.concat "</span><br>\n"
_erbout.concat "<hr /></div>\n"
_erbout.concat "<div id=\"docklist\">\n"
_erbout.concat "<div id=\"dock1\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock2\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock3\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"business_dock\" >"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\350\264\270\346\230\223\347\240\201\345\244\264<br>\n"
_erbout.concat "&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock4 == nil or @user.dock4 == 0) and @current_user.xid != @user.xid
_erbout.concat(( ml.if_is_app_user({"uid" => @user.xid}) ).to_s); _erbout.concat " \n"
_erbout.concat "<form action=\"/1007758/business/business/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\"> \n"
_erbout.concat " "; _erbout.concat(( submit_tag "贸易" , :name => "dock" ,:value => "贸易" ).to_s); _erbout.concat "\n"
_erbout.concat "</form>\n"
_erbout.concat(( ml.mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form({"action" => "/1007758/business/invite/#{@user.id}"}) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form_submit({"uid" => @user.xid,"label" => "倒卖" }) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_request_form ).to_s); _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat(( ml.end_mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_if_is_app_user ).to_s); _erbout.concat " \n"
_erbout.concat(( link_to "换下一个",:controller=>:home,:action => :friend,:id=>nil ).to_s); _erbout.concat " \n"
_erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t \n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock4 and @user.dock4 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock4) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\201\234\351\235\240\345\234\250\350\257\245\347\240\201\345\244\264<br>\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "赶跑TA" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<form action=\"/1007758/home/rob/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\">\n"
_erbout.concat "<div id=\"roblist\">\n"
_erbout.concat "\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock1 == nil or @user.dock1 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock1 and @user.dock1 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock1) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t \345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock1_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201\n"
_erbout.concat "\t\t\t\t ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t  ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock2 == nil or @user.dock2 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock2 and @user.dock2 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock2) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock2_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock2_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock3 == nil or @user.dock3 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock3 and @user.dock3 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock3) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock3_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock3_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"shiplist\">\n"
_erbout.concat "<hr />\n"
_erbout.concat "<span id=\"myshipspan\">\346\210\221\347\232\204\350\210\271\345\217\252</span><br>\n"
 @current_user.usership.each do |ship|  
_erbout.concat "\t<div class=\"ship\">\n"
_erbout.concat "    \n"
_erbout.concat "\t"; _erbout.concat(( usershipimg(ship)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t"; _erbout.concat(( radio_button  "usership","id", ship.id , :checked => "checked" ).to_s); _erbout.concat " "; _erbout.concat(( ship.name ).to_s); _erbout.concat "\n"
_erbout.concat "\t";  if ship.robof && ship.robof > 0   ; _erbout.concat "\n"
_erbout.concat "\t<span class=\"gray\">(\346\255\243\345\234\250"; _erbout.concat(( link_to ml.name({"uid" =>ship.robof}), :controller => :home , :action => :friend ,:id => ship.robof ).to_s); _erbout.concat "\347\232\204\345\262\233\344\270\212\347\203\247\346\235\200\346\212\242\346\216\240)</span><br>\n"
_erbout.concat "     ";  if ship.robtime ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - ship.robtime,ship.capacity,ship.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end 
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "</form>\n"
 if @mynotice ; _erbout.concat "\n"
_erbout.concat "\t<div  id=\"noticelist\">\n"
_erbout.concat "\t\t<hr />\n"
_erbout.concat "\t\t<span id=\"piratenews\">\346\265\267\347\233\227\345\277\253\350\256\257  "; _erbout.concat(( link_to "查看更多",:controller => :notice ).to_s); _erbout.concat "</span>\n"
_erbout.concat "\t\t";  if @mynotice.length ==0 ; _erbout.concat "\n"
_erbout.concat "\t\t\t<br><span class=\"gray\">\346\232\202\346\227\240\344\277\241\346\201\257</span>\n"
_erbout.concat "\t\t";  else ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t\t\t"; @mynotice.each do |n|; _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t\t<div id=\"noticecontent\">"; _erbout.concat(( n.content ).to_s); _erbout.concat "</div><div id=\"noticetime\">"; _erbout.concat(( distance_of_time_in_words(Time.now,n.updated_at) ).to_s); _erbout.concat "</div><div style=\"clear:both;\"></div>\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"notify\">\n"
_erbout.concat "<h4>\345\205\254\345\221\212</h4>\n"
_erbout.concat "<ul>\n"
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:help=1 ).to_s); _erbout.concat "\n"
_erbout.concat "</li>\n"
_erbout.concat "</ul>\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"friendlist\"  >\n"
_erbout.concat "\n"
_erbout.concat "<h4>\346\265\267\347\233\227\345\245\275\345\217\213</h4>\n"
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat(( link_to ml.name({"uid" => friend}),:controller => :home,:action => :friend,:id => friend ).to_s); _erbout.concat "\n"
_erbout.concat "</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "</div>"; _erbout
end
Backtrace: D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:240:in `compile_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:845:in `render_with_no_layout'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1161:in `default_render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1167:in `perform_action_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
script/server:3


ActionView::TemplateError (compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:224: syntax error, unexpected tINTEGER, expecting ')'
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:help=1 ).to_s); _erbout.concat "\n"
                                                                      ^) on line #224 of home/index.html.erb:
221: <div id="notify">
222: <h4>公告</h4>
223: <ul>
224: <li><%= link_to "查看帮助",:help=1 %>
225: </li>
226: </ul>
227: </div>

    app/views/home/index.html.erb:240:in `compile_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:845:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1161:in `default_render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1167:in `perform_action_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 11:58:47) [POST]
  Session ID: 709d74f04f67344142de511fa6a893da
  Parameters: {"my_extra"=>"", "my_sig_key"=>"65fd14582682170e485194ec46159bdb", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820740", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148040018d6a8f64c542f0d5eab3e", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.015000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.016000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148040018d6a8f64c542f0d5eab3e', `updated_at` = '2008-10-24 03:58:47' WHERE `id` = 26[0m
  [4;36;1mSQL (0.094000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_47app47views47home47index46html46erb RAISED compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:224: syntax error, unexpected '=', expecting ')'
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:help = >1 ).to_s); _erbout.concat "\n"
                                                                      ^
Function body: def _run_erb_47app47views47home47index46html46erb(local_assigns)
_erbout = '';  ml = Ml.new ; _erbout.concat "\n"
_erbout.concat "<style type=\"text/css\">\n"
_erbout.concat "#mybody {\n"
_erbout.concat "\twidth: 620px;\n"
_erbout.concat "\tfloat:left;\n"
_erbout.concat "\tpadding: 5px;\n"
_erbout.concat "}\n"
_erbout.concat "#docklist{\n"
_erbout.concat "}\n"
_erbout.concat "#roblist{\n"
_erbout.concat "}\n"
_erbout.concat ".dock {\n"
_erbout.concat "\tfloat: left;\n"
_erbout.concat "\twidth:155px;\n"
_erbout.concat "\ttext-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "#friendlist {\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:300px;\n"
_erbout.concat "overflow:auto;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "#islandinfo{\n"
_erbout.concat "\tcolor:red;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#piratenews{\n"
_erbout.concat "\tcolor:green;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticeone {\n"
_erbout.concat "height:25px;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticecontent {\n"
_erbout.concat "float:left;\n"
_erbout.concat "height:28px;\n"
_erbout.concat "width:500px;\n"
_erbout.concat "}\n"
_erbout.concat "#myshipspan{\n"
_erbout.concat "\tcolor:blue;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat ".ship{\n"
_erbout.concat "float:left;\n"
_erbout.concat "width:180px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "h4 {\n"
_erbout.concat "text-align:center;height:25px;background:#D8DFEA none repeat scroll 0%;\n"
_erbout.concat "border-top:1px solid #3B5888;font-size:14px;font-weight:bold;line-height:25px;font-weight:bold;\n"
_erbout.concat "}\n"
_erbout.concat ".gray{\n"
_erbout.concat "color: #666666;\n"
_erbout.concat "}\n"
_erbout.concat ".gotofriend{\n"
_erbout.concat "color:#0000ff;\n"
_erbout.concat "text-align:right;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticetime {\n"
_erbout.concat "float:right;\n"
_erbout.concat "}\n"
_erbout.concat "#notify\n"
_erbout.concat "{\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:100px;\n"
_erbout.concat "}\n"
_erbout.concat "#business_dock\n"
_erbout.concat "{\n"
_erbout.concat "border:2px solid #225599;\n"
_erbout.concat "float: left;\n"
_erbout.concat "width:151px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat ".gorob{\n"
_erbout.concat "float:right;\n"
_erbout.concat "text-size:15px;\n"
_erbout.concat "}\n"
_erbout.concat "</style>\n"
_erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"mybody\">\n"
_erbout.concat "<div class=\"gotofriend\"></div>\n"
_erbout.concat "<div id=\"islandinfo\">"; _erbout.concat(( ml.userpic("uid" => @user.xid,"linked"=>"true") ).to_s); _erbout.concat(( ml.name("uid"=>@user.xid)).to_s); _erbout.concat "\347\232\204\345\260\217\345\262\233<span class=\"gorob\">"; _erbout.concat(( link_to ">>去抢劫好友",:controller => :home ,:action => :friend  ).to_s); _erbout.concat "</span><br>\n"
_erbout.concat "<hr /></div>\n"
_erbout.concat "<div id=\"docklist\">\n"
_erbout.concat "<div id=\"dock1\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock2\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock3\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"business_dock\" >"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\350\264\270\346\230\223\347\240\201\345\244\264<br>\n"
_erbout.concat "&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock4 == nil or @user.dock4 == 0) and @current_user.xid != @user.xid
_erbout.concat(( ml.if_is_app_user({"uid" => @user.xid}) ).to_s); _erbout.concat " \n"
_erbout.concat "<form action=\"/1007758/business/business/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\"> \n"
_erbout.concat " "; _erbout.concat(( submit_tag "贸易" , :name => "dock" ,:value => "贸易" ).to_s); _erbout.concat "\n"
_erbout.concat "</form>\n"
_erbout.concat(( ml.mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form({"action" => "/1007758/business/invite/#{@user.id}"}) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form_submit({"uid" => @user.xid,"label" => "倒卖" }) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_request_form ).to_s); _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat(( ml.end_mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_if_is_app_user ).to_s); _erbout.concat " \n"
_erbout.concat(( link_to "换下一个",:controller=>:home,:action => :friend,:id=>nil ).to_s); _erbout.concat " \n"
_erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t \n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock4 and @user.dock4 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock4) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\201\234\351\235\240\345\234\250\350\257\245\347\240\201\345\244\264<br>\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "赶跑TA" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<form action=\"/1007758/home/rob/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\">\n"
_erbout.concat "<div id=\"roblist\">\n"
_erbout.concat "\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock1 == nil or @user.dock1 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock1 and @user.dock1 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock1) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t \345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock1_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201\n"
_erbout.concat "\t\t\t\t ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t  ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock2 == nil or @user.dock2 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock2 and @user.dock2 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock2) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock2_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock2_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock3 == nil or @user.dock3 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock3 and @user.dock3 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock3) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock3_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock3_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"shiplist\">\n"
_erbout.concat "<hr />\n"
_erbout.concat "<span id=\"myshipspan\">\346\210\221\347\232\204\350\210\271\345\217\252</span><br>\n"
 @current_user.usership.each do |ship|  
_erbout.concat "\t<div class=\"ship\">\n"
_erbout.concat "    \n"
_erbout.concat "\t"; _erbout.concat(( usershipimg(ship)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t"; _erbout.concat(( radio_button  "usership","id", ship.id , :checked => "checked" ).to_s); _erbout.concat " "; _erbout.concat(( ship.name ).to_s); _erbout.concat "\n"
_erbout.concat "\t";  if ship.robof && ship.robof > 0   ; _erbout.concat "\n"
_erbout.concat "\t<span class=\"gray\">(\346\255\243\345\234\250"; _erbout.concat(( link_to ml.name({"uid" =>ship.robof}), :controller => :home , :action => :friend ,:id => ship.robof ).to_s); _erbout.concat "\347\232\204\345\262\233\344\270\212\347\203\247\346\235\200\346\212\242\346\216\240)</span><br>\n"
_erbout.concat "     ";  if ship.robtime ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - ship.robtime,ship.capacity,ship.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end 
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "</form>\n"
 if @mynotice ; _erbout.concat "\n"
_erbout.concat "\t<div  id=\"noticelist\">\n"
_erbout.concat "\t\t<hr />\n"
_erbout.concat "\t\t<span id=\"piratenews\">\346\265\267\347\233\227\345\277\253\350\256\257  "; _erbout.concat(( link_to "查看更多",:controller => :notice ).to_s); _erbout.concat "</span>\n"
_erbout.concat "\t\t";  if @mynotice.length ==0 ; _erbout.concat "\n"
_erbout.concat "\t\t\t<br><span class=\"gray\">\346\232\202\346\227\240\344\277\241\346\201\257</span>\n"
_erbout.concat "\t\t";  else ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t\t\t"; @mynotice.each do |n|; _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t\t<div id=\"noticecontent\">"; _erbout.concat(( n.content ).to_s); _erbout.concat "</div><div id=\"noticetime\">"; _erbout.concat(( distance_of_time_in_words(Time.now,n.updated_at) ).to_s); _erbout.concat "</div><div style=\"clear:both;\"></div>\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"notify\">\n"
_erbout.concat "<h4>\345\205\254\345\221\212</h4>\n"
_erbout.concat "<ul>\n"
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:help = >1 ).to_s); _erbout.concat "\n"
_erbout.concat "</li>\n"
_erbout.concat "</ul>\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"friendlist\"  >\n"
_erbout.concat "\n"
_erbout.concat "<h4>\346\265\267\347\233\227\345\245\275\345\217\213</h4>\n"
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat(( link_to ml.name({"uid" => friend}),:controller => :home,:action => :friend,:id => friend ).to_s); _erbout.concat "\n"
_erbout.concat "</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "</div>"; _erbout
end
Backtrace: D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:240:in `compile_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:845:in `render_with_no_layout'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1161:in `default_render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1167:in `perform_action_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
script/server:3


ActionView::TemplateError (compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:224: syntax error, unexpected '=', expecting ')'
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:help = >1 ).to_s); _erbout.concat "\n"
                                                                      ^) on line #224 of home/index.html.erb:
221: <div id="notify">
222: <h4>公告</h4>
223: <ul>
224: <li><%= link_to "查看帮助",:help = >1 %>
225: </li>
226: </ul>
227: </div>

    app/views/home/index.html.erb:240:in `compile_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:845:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1161:in `default_render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1167:in `perform_action_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 11:59:14) [POST]
  Session ID: 5169ba97276367616f6ba688f01d38c1
  Parameters: {"my_extra"=>"", "my_sig_key"=>"0896940fd85e7f1191ed88acf631cac8", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820768", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148200018d6a8d838fbcd1d196cfb", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148200018d6a8d838fbcd1d196cfb', `updated_at` = '2008-10-24 03:59:15' WHERE `id` = 26[0m
  [4;36;1mSQL (0.063000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_47app47views47home47index46html46erb RAISED compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:224: syntax error, unexpected '=', expecting tASSOC
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:action => index ,:help = >1 ).to_s); _erbout.concat "\n"
                                                                                        ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:232: syntax error, unexpected kDO_BLOCK, expecting kEND
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
                                 ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:240: syntax error, unexpected kEND, expecting $end
Function body: def _run_erb_47app47views47home47index46html46erb(local_assigns)
_erbout = '';  ml = Ml.new ; _erbout.concat "\n"
_erbout.concat "<style type=\"text/css\">\n"
_erbout.concat "#mybody {\n"
_erbout.concat "\twidth: 620px;\n"
_erbout.concat "\tfloat:left;\n"
_erbout.concat "\tpadding: 5px;\n"
_erbout.concat "}\n"
_erbout.concat "#docklist{\n"
_erbout.concat "}\n"
_erbout.concat "#roblist{\n"
_erbout.concat "}\n"
_erbout.concat ".dock {\n"
_erbout.concat "\tfloat: left;\n"
_erbout.concat "\twidth:155px;\n"
_erbout.concat "\ttext-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "#friendlist {\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:300px;\n"
_erbout.concat "overflow:auto;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "#islandinfo{\n"
_erbout.concat "\tcolor:red;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#piratenews{\n"
_erbout.concat "\tcolor:green;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticeone {\n"
_erbout.concat "height:25px;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticecontent {\n"
_erbout.concat "float:left;\n"
_erbout.concat "height:28px;\n"
_erbout.concat "width:500px;\n"
_erbout.concat "}\n"
_erbout.concat "#myshipspan{\n"
_erbout.concat "\tcolor:blue;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat ".ship{\n"
_erbout.concat "float:left;\n"
_erbout.concat "width:180px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "h4 {\n"
_erbout.concat "text-align:center;height:25px;background:#D8DFEA none repeat scroll 0%;\n"
_erbout.concat "border-top:1px solid #3B5888;font-size:14px;font-weight:bold;line-height:25px;font-weight:bold;\n"
_erbout.concat "}\n"
_erbout.concat ".gray{\n"
_erbout.concat "color: #666666;\n"
_erbout.concat "}\n"
_erbout.concat ".gotofriend{\n"
_erbout.concat "color:#0000ff;\n"
_erbout.concat "text-align:right;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticetime {\n"
_erbout.concat "float:right;\n"
_erbout.concat "}\n"
_erbout.concat "#notify\n"
_erbout.concat "{\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:100px;\n"
_erbout.concat "}\n"
_erbout.concat "#business_dock\n"
_erbout.concat "{\n"
_erbout.concat "border:2px solid #225599;\n"
_erbout.concat "float: left;\n"
_erbout.concat "width:151px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat ".gorob{\n"
_erbout.concat "float:right;\n"
_erbout.concat "text-size:15px;\n"
_erbout.concat "}\n"
_erbout.concat "</style>\n"
_erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"mybody\">\n"
_erbout.concat "<div class=\"gotofriend\"></div>\n"
_erbout.concat "<div id=\"islandinfo\">"; _erbout.concat(( ml.userpic("uid" => @user.xid,"linked"=>"true") ).to_s); _erbout.concat(( ml.name("uid"=>@user.xid)).to_s); _erbout.concat "\347\232\204\345\260\217\345\262\233<span class=\"gorob\">"; _erbout.concat(( link_to ">>去抢劫好友",:controller => :home ,:action => :friend  ).to_s); _erbout.concat "</span><br>\n"
_erbout.concat "<hr /></div>\n"
_erbout.concat "<div id=\"docklist\">\n"
_erbout.concat "<div id=\"dock1\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock2\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock3\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"business_dock\" >"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\350\264\270\346\230\223\347\240\201\345\244\264<br>\n"
_erbout.concat "&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock4 == nil or @user.dock4 == 0) and @current_user.xid != @user.xid
_erbout.concat(( ml.if_is_app_user({"uid" => @user.xid}) ).to_s); _erbout.concat " \n"
_erbout.concat "<form action=\"/1007758/business/business/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\"> \n"
_erbout.concat " "; _erbout.concat(( submit_tag "贸易" , :name => "dock" ,:value => "贸易" ).to_s); _erbout.concat "\n"
_erbout.concat "</form>\n"
_erbout.concat(( ml.mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form({"action" => "/1007758/business/invite/#{@user.id}"}) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form_submit({"uid" => @user.xid,"label" => "倒卖" }) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_request_form ).to_s); _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat(( ml.end_mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_if_is_app_user ).to_s); _erbout.concat " \n"
_erbout.concat(( link_to "换下一个",:controller=>:home,:action => :friend,:id=>nil ).to_s); _erbout.concat " \n"
_erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t \n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock4 and @user.dock4 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock4) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\201\234\351\235\240\345\234\250\350\257\245\347\240\201\345\244\264<br>\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "赶跑TA" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<form action=\"/1007758/home/rob/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\">\n"
_erbout.concat "<div id=\"roblist\">\n"
_erbout.concat "\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock1 == nil or @user.dock1 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock1 and @user.dock1 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock1) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t \345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock1_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201\n"
_erbout.concat "\t\t\t\t ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t  ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock2 == nil or @user.dock2 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock2 and @user.dock2 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock2) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock2_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock2_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock3 == nil or @user.dock3 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock3 and @user.dock3 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock3) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock3_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock3_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"shiplist\">\n"
_erbout.concat "<hr />\n"
_erbout.concat "<span id=\"myshipspan\">\346\210\221\347\232\204\350\210\271\345\217\252</span><br>\n"
 @current_user.usership.each do |ship|  
_erbout.concat "\t<div class=\"ship\">\n"
_erbout.concat "    \n"
_erbout.concat "\t"; _erbout.concat(( usershipimg(ship)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t"; _erbout.concat(( radio_button  "usership","id", ship.id , :checked => "checked" ).to_s); _erbout.concat " "; _erbout.concat(( ship.name ).to_s); _erbout.concat "\n"
_erbout.concat "\t";  if ship.robof && ship.robof > 0   ; _erbout.concat "\n"
_erbout.concat "\t<span class=\"gray\">(\346\255\243\345\234\250"; _erbout.concat(( link_to ml.name({"uid" =>ship.robof}), :controller => :home , :action => :friend ,:id => ship.robof ).to_s); _erbout.concat "\347\232\204\345\262\233\344\270\212\347\203\247\346\235\200\346\212\242\346\216\240)</span><br>\n"
_erbout.concat "     ";  if ship.robtime ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - ship.robtime,ship.capacity,ship.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end 
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "</form>\n"
 if @mynotice ; _erbout.concat "\n"
_erbout.concat "\t<div  id=\"noticelist\">\n"
_erbout.concat "\t\t<hr />\n"
_erbout.concat "\t\t<span id=\"piratenews\">\346\265\267\347\233\227\345\277\253\350\256\257  "; _erbout.concat(( link_to "查看更多",:controller => :notice ).to_s); _erbout.concat "</span>\n"
_erbout.concat "\t\t";  if @mynotice.length ==0 ; _erbout.concat "\n"
_erbout.concat "\t\t\t<br><span class=\"gray\">\346\232\202\346\227\240\344\277\241\346\201\257</span>\n"
_erbout.concat "\t\t";  else ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t\t\t"; @mynotice.each do |n|; _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t\t<div id=\"noticecontent\">"; _erbout.concat(( n.content ).to_s); _erbout.concat "</div><div id=\"noticetime\">"; _erbout.concat(( distance_of_time_in_words(Time.now,n.updated_at) ).to_s); _erbout.concat "</div><div style=\"clear:both;\"></div>\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"notify\">\n"
_erbout.concat "<h4>\345\205\254\345\221\212</h4>\n"
_erbout.concat "<ul>\n"
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:action => index ,:help = >1 ).to_s); _erbout.concat "\n"
_erbout.concat "</li>\n"
_erbout.concat "</ul>\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"friendlist\"  >\n"
_erbout.concat "\n"
_erbout.concat "<h4>\346\265\267\347\233\227\345\245\275\345\217\213</h4>\n"
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat(( link_to ml.name({"uid" => friend}),:controller => :home,:action => :friend,:id => friend ).to_s); _erbout.concat "\n"
_erbout.concat "</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "</div>"; _erbout
end
Backtrace: D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:240:in `compile_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:845:in `render_with_no_layout'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1161:in `default_render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1167:in `perform_action_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
script/server:3


ActionView::TemplateError (compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:224: syntax error, unexpected '=', expecting tASSOC
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:action => index ,:help = >1 ).to_s); _erbout.concat "\n"
                                                                                        ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:232: syntax error, unexpected kDO_BLOCK, expecting kEND
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
                                 ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:240: syntax error, unexpected kEND, expecting $end) on line #224 of home/index.html.erb:
221: <div id="notify">
222: <h4>公告</h4>
223: <ul>
224: <li><%= link_to "查看帮助",:action => index ,:help = >1 %>
225: </li>
226: </ul>
227: </div>

    app/views/home/index.html.erb:240:in `compile_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:845:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1161:in `default_render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1167:in `perform_action_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 12:00:06) [POST]
  Session ID: aa369ec798b5e396adc4e4ddf9d3daa5
  Parameters: {"my_extra"=>"", "my_sig_key"=>"597e96a91777a48eafddacbff890d68b", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820819", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148530018d6a827a2b2fa6026821a", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148530018d6a827a2b2fa6026821a', `updated_at` = '2008-10-24 04:00:06' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_47app47views47home47index46html46erb RAISED compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:224: syntax error, unexpected '=', expecting tASSOC
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:action => index ,:help = >"1" ).to_s); _erbout.concat "\n"
                                                                                        ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:232: syntax error, unexpected kDO_BLOCK, expecting kEND
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
                                 ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:240: syntax error, unexpected kEND, expecting $end
Function body: def _run_erb_47app47views47home47index46html46erb(local_assigns)
_erbout = '';  ml = Ml.new ; _erbout.concat "\n"
_erbout.concat "<style type=\"text/css\">\n"
_erbout.concat "#mybody {\n"
_erbout.concat "\twidth: 620px;\n"
_erbout.concat "\tfloat:left;\n"
_erbout.concat "\tpadding: 5px;\n"
_erbout.concat "}\n"
_erbout.concat "#docklist{\n"
_erbout.concat "}\n"
_erbout.concat "#roblist{\n"
_erbout.concat "}\n"
_erbout.concat ".dock {\n"
_erbout.concat "\tfloat: left;\n"
_erbout.concat "\twidth:155px;\n"
_erbout.concat "\ttext-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "#friendlist {\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:300px;\n"
_erbout.concat "overflow:auto;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "#islandinfo{\n"
_erbout.concat "\tcolor:red;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#piratenews{\n"
_erbout.concat "\tcolor:green;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticeone {\n"
_erbout.concat "height:25px;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticecontent {\n"
_erbout.concat "float:left;\n"
_erbout.concat "height:28px;\n"
_erbout.concat "width:500px;\n"
_erbout.concat "}\n"
_erbout.concat "#myshipspan{\n"
_erbout.concat "\tcolor:blue;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat ".ship{\n"
_erbout.concat "float:left;\n"
_erbout.concat "width:180px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "h4 {\n"
_erbout.concat "text-align:center;height:25px;background:#D8DFEA none repeat scroll 0%;\n"
_erbout.concat "border-top:1px solid #3B5888;font-size:14px;font-weight:bold;line-height:25px;font-weight:bold;\n"
_erbout.concat "}\n"
_erbout.concat ".gray{\n"
_erbout.concat "color: #666666;\n"
_erbout.concat "}\n"
_erbout.concat ".gotofriend{\n"
_erbout.concat "color:#0000ff;\n"
_erbout.concat "text-align:right;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticetime {\n"
_erbout.concat "float:right;\n"
_erbout.concat "}\n"
_erbout.concat "#notify\n"
_erbout.concat "{\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:100px;\n"
_erbout.concat "}\n"
_erbout.concat "#business_dock\n"
_erbout.concat "{\n"
_erbout.concat "border:2px solid #225599;\n"
_erbout.concat "float: left;\n"
_erbout.concat "width:151px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat ".gorob{\n"
_erbout.concat "float:right;\n"
_erbout.concat "text-size:15px;\n"
_erbout.concat "}\n"
_erbout.concat "</style>\n"
_erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"mybody\">\n"
_erbout.concat "<div class=\"gotofriend\"></div>\n"
_erbout.concat "<div id=\"islandinfo\">"; _erbout.concat(( ml.userpic("uid" => @user.xid,"linked"=>"true") ).to_s); _erbout.concat(( ml.name("uid"=>@user.xid)).to_s); _erbout.concat "\347\232\204\345\260\217\345\262\233<span class=\"gorob\">"; _erbout.concat(( link_to ">>去抢劫好友",:controller => :home ,:action => :friend  ).to_s); _erbout.concat "</span><br>\n"
_erbout.concat "<hr /></div>\n"
_erbout.concat "<div id=\"docklist\">\n"
_erbout.concat "<div id=\"dock1\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock2\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock3\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"business_dock\" >"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\350\264\270\346\230\223\347\240\201\345\244\264<br>\n"
_erbout.concat "&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock4 == nil or @user.dock4 == 0) and @current_user.xid != @user.xid
_erbout.concat(( ml.if_is_app_user({"uid" => @user.xid}) ).to_s); _erbout.concat " \n"
_erbout.concat "<form action=\"/1007758/business/business/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\"> \n"
_erbout.concat " "; _erbout.concat(( submit_tag "贸易" , :name => "dock" ,:value => "贸易" ).to_s); _erbout.concat "\n"
_erbout.concat "</form>\n"
_erbout.concat(( ml.mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form({"action" => "/1007758/business/invite/#{@user.id}"}) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form_submit({"uid" => @user.xid,"label" => "倒卖" }) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_request_form ).to_s); _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat(( ml.end_mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_if_is_app_user ).to_s); _erbout.concat " \n"
_erbout.concat(( link_to "换下一个",:controller=>:home,:action => :friend,:id=>nil ).to_s); _erbout.concat " \n"
_erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t \n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock4 and @user.dock4 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock4) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\201\234\351\235\240\345\234\250\350\257\245\347\240\201\345\244\264<br>\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "赶跑TA" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<form action=\"/1007758/home/rob/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\">\n"
_erbout.concat "<div id=\"roblist\">\n"
_erbout.concat "\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock1 == nil or @user.dock1 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock1 and @user.dock1 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock1) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t \345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock1_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201\n"
_erbout.concat "\t\t\t\t ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t  ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock2 == nil or @user.dock2 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock2 and @user.dock2 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock2) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock2_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock2_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock3 == nil or @user.dock3 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock3 and @user.dock3 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock3) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock3_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock3_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"shiplist\">\n"
_erbout.concat "<hr />\n"
_erbout.concat "<span id=\"myshipspan\">\346\210\221\347\232\204\350\210\271\345\217\252</span><br>\n"
 @current_user.usership.each do |ship|  
_erbout.concat "\t<div class=\"ship\">\n"
_erbout.concat "    \n"
_erbout.concat "\t"; _erbout.concat(( usershipimg(ship)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t"; _erbout.concat(( radio_button  "usership","id", ship.id , :checked => "checked" ).to_s); _erbout.concat " "; _erbout.concat(( ship.name ).to_s); _erbout.concat "\n"
_erbout.concat "\t";  if ship.robof && ship.robof > 0   ; _erbout.concat "\n"
_erbout.concat "\t<span class=\"gray\">(\346\255\243\345\234\250"; _erbout.concat(( link_to ml.name({"uid" =>ship.robof}), :controller => :home , :action => :friend ,:id => ship.robof ).to_s); _erbout.concat "\347\232\204\345\262\233\344\270\212\347\203\247\346\235\200\346\212\242\346\216\240)</span><br>\n"
_erbout.concat "     ";  if ship.robtime ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - ship.robtime,ship.capacity,ship.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end 
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "</form>\n"
 if @mynotice ; _erbout.concat "\n"
_erbout.concat "\t<div  id=\"noticelist\">\n"
_erbout.concat "\t\t<hr />\n"
_erbout.concat "\t\t<span id=\"piratenews\">\346\265\267\347\233\227\345\277\253\350\256\257  "; _erbout.concat(( link_to "查看更多",:controller => :notice ).to_s); _erbout.concat "</span>\n"
_erbout.concat "\t\t";  if @mynotice.length ==0 ; _erbout.concat "\n"
_erbout.concat "\t\t\t<br><span class=\"gray\">\346\232\202\346\227\240\344\277\241\346\201\257</span>\n"
_erbout.concat "\t\t";  else ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t\t\t"; @mynotice.each do |n|; _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t\t<div id=\"noticecontent\">"; _erbout.concat(( n.content ).to_s); _erbout.concat "</div><div id=\"noticetime\">"; _erbout.concat(( distance_of_time_in_words(Time.now,n.updated_at) ).to_s); _erbout.concat "</div><div style=\"clear:both;\"></div>\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"notify\">\n"
_erbout.concat "<h4>\345\205\254\345\221\212</h4>\n"
_erbout.concat "<ul>\n"
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:action => index ,:help = >"1" ).to_s); _erbout.concat "\n"
_erbout.concat "</li>\n"
_erbout.concat "</ul>\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"friendlist\"  >\n"
_erbout.concat "\n"
_erbout.concat "<h4>\346\265\267\347\233\227\345\245\275\345\217\213</h4>\n"
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat(( link_to ml.name({"uid" => friend}),:controller => :home,:action => :friend,:id => friend ).to_s); _erbout.concat "\n"
_erbout.concat "</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "</div>"; _erbout
end
Backtrace: D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:240:in `compile_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:845:in `render_with_no_layout'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1161:in `default_render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1167:in `perform_action_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
script/server:3


ActionView::TemplateError (compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:224: syntax error, unexpected '=', expecting tASSOC
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:action => index ,:help = >"1" ).to_s); _erbout.concat "\n"
                                                                                        ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:232: syntax error, unexpected kDO_BLOCK, expecting kEND
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
                                 ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:240: syntax error, unexpected kEND, expecting $end) on line #224 of home/index.html.erb:
221: <div id="notify">
222: <h4>公告</h4>
223: <ul>
224: <li><%= link_to "查看帮助",:action => index ,:help = >"1" %>
225: </li>
226: </ul>
227: </div>

    app/views/home/index.html.erb:240:in `compile_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:845:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1161:in `default_render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1167:in `perform_action_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 12:00:24) [POST]
  Session ID: 8d0f090307fc70cf6f28ef07b35357ad
  Parameters: {"my_extra"=>"", "my_sig_key"=>"d03c28f938bf2860c2fcc82c8afd548d", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820837", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148650018d6a8c65d94b08be23033", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148650018d6a8c65d94b08be23033', `updated_at` = '2008-10-24 04:00:24' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.015000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;35;1mNotice Columns (0.000000)[0m   [0mSHOW FIELDS FROM `notices`[0m
Completed in 0.37500 (2 reqs/sec) | Rendering: 0.25000 (66%) | DB: 0.04600 (12%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 12:00:41) [POST]
  Session ID: 6adcca17a42555c58e828b17d1478bd6
  Parameters: {"my_extra"=>"", "my_sig_key"=>"708ddaf0a00df84c7f0c41ed062fbd90", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820854", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148760018d6a84a8f5a4089c7b5cb", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148760018d6a84a8f5a4089c7b5cb', `updated_at` = '2008-10-24 04:00:42' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.000000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.016000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;35;1mNotice Columns (0.015000)[0m   [0mSHOW FIELDS FROM `notices`[0m
Completed in 0.23400 (4 reqs/sec) | Rendering: 0.10900 (46%) | DB: 0.06200 (26%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 12:00:53) [POST]
  Session ID: 18d8e3894399020426f40a7ea48c39e0
  Parameters: {"my_extra"=>"", "my_sig_key"=>"feeb8db15f4c5f9694b6a19d139d1458", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820866", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148820018d6a83c5b5df992af8fb0", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.015000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148820018d6a83c5b5df992af8fb0', `updated_at` = '2008-10-24 04:00:53' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_47app47views47home47index46html46erb RAISED compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:224: syntax error, unexpected '=', expecting tASSOC
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:action => :index ,:help = >"1" ).to_s); _erbout.concat "\n"
                                                                                         ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:232: syntax error, unexpected kDO_BLOCK, expecting kEND
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
                                 ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:240: syntax error, unexpected kEND, expecting $end
Function body: def _run_erb_47app47views47home47index46html46erb(local_assigns)
_erbout = '';  ml = Ml.new ; _erbout.concat "\n"
_erbout.concat "<style type=\"text/css\">\n"
_erbout.concat "#mybody {\n"
_erbout.concat "\twidth: 620px;\n"
_erbout.concat "\tfloat:left;\n"
_erbout.concat "\tpadding: 5px;\n"
_erbout.concat "}\n"
_erbout.concat "#docklist{\n"
_erbout.concat "}\n"
_erbout.concat "#roblist{\n"
_erbout.concat "}\n"
_erbout.concat ".dock {\n"
_erbout.concat "\tfloat: left;\n"
_erbout.concat "\twidth:155px;\n"
_erbout.concat "\ttext-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "#friendlist {\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:300px;\n"
_erbout.concat "overflow:auto;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "#islandinfo{\n"
_erbout.concat "\tcolor:red;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#piratenews{\n"
_erbout.concat "\tcolor:green;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticeone {\n"
_erbout.concat "height:25px;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticecontent {\n"
_erbout.concat "float:left;\n"
_erbout.concat "height:28px;\n"
_erbout.concat "width:500px;\n"
_erbout.concat "}\n"
_erbout.concat "#myshipspan{\n"
_erbout.concat "\tcolor:blue;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat ".ship{\n"
_erbout.concat "float:left;\n"
_erbout.concat "width:180px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "h4 {\n"
_erbout.concat "text-align:center;height:25px;background:#D8DFEA none repeat scroll 0%;\n"
_erbout.concat "border-top:1px solid #3B5888;font-size:14px;font-weight:bold;line-height:25px;font-weight:bold;\n"
_erbout.concat "}\n"
_erbout.concat ".gray{\n"
_erbout.concat "color: #666666;\n"
_erbout.concat "}\n"
_erbout.concat ".gotofriend{\n"
_erbout.concat "color:#0000ff;\n"
_erbout.concat "text-align:right;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticetime {\n"
_erbout.concat "float:right;\n"
_erbout.concat "}\n"
_erbout.concat "#notify\n"
_erbout.concat "{\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:100px;\n"
_erbout.concat "}\n"
_erbout.concat "#business_dock\n"
_erbout.concat "{\n"
_erbout.concat "border:2px solid #225599;\n"
_erbout.concat "float: left;\n"
_erbout.concat "width:151px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat ".gorob{\n"
_erbout.concat "float:right;\n"
_erbout.concat "text-size:15px;\n"
_erbout.concat "}\n"
_erbout.concat "</style>\n"
_erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"mybody\">\n"
_erbout.concat "<div class=\"gotofriend\"></div>\n"
_erbout.concat "<div id=\"islandinfo\">"; _erbout.concat(( ml.userpic("uid" => @user.xid,"linked"=>"true") ).to_s); _erbout.concat(( ml.name("uid"=>@user.xid)).to_s); _erbout.concat "\347\232\204\345\260\217\345\262\233<span class=\"gorob\">"; _erbout.concat(( link_to ">>去抢劫好友",:controller => :home ,:action => :friend  ).to_s); _erbout.concat "</span><br>\n"
_erbout.concat "<hr /></div>\n"
_erbout.concat "<div id=\"docklist\">\n"
_erbout.concat "<div id=\"dock1\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock2\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock3\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"business_dock\" >"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\350\264\270\346\230\223\347\240\201\345\244\264<br>\n"
_erbout.concat "&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock4 == nil or @user.dock4 == 0) and @current_user.xid != @user.xid
_erbout.concat(( ml.if_is_app_user({"uid" => @user.xid}) ).to_s); _erbout.concat " \n"
_erbout.concat "<form action=\"/1007758/business/business/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\"> \n"
_erbout.concat " "; _erbout.concat(( submit_tag "贸易" , :name => "dock" ,:value => "贸易" ).to_s); _erbout.concat "\n"
_erbout.concat "</form>\n"
_erbout.concat(( ml.mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form({"action" => "/1007758/business/invite/#{@user.id}"}) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form_submit({"uid" => @user.xid,"label" => "倒卖" }) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_request_form ).to_s); _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat(( ml.end_mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_if_is_app_user ).to_s); _erbout.concat " \n"
_erbout.concat(( link_to "换下一个",:controller=>:home,:action => :friend,:id=>nil ).to_s); _erbout.concat " \n"
_erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t \n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock4 and @user.dock4 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock4) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\201\234\351\235\240\345\234\250\350\257\245\347\240\201\345\244\264<br>\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "赶跑TA" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<form action=\"/1007758/home/rob/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\">\n"
_erbout.concat "<div id=\"roblist\">\n"
_erbout.concat "\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock1 == nil or @user.dock1 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock1 and @user.dock1 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock1) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t \345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock1_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201\n"
_erbout.concat "\t\t\t\t ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t  ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock2 == nil or @user.dock2 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock2 and @user.dock2 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock2) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock2_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock2_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock3 == nil or @user.dock3 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock3 and @user.dock3 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock3) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock3_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock3_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"shiplist\">\n"
_erbout.concat "<hr />\n"
_erbout.concat "<span id=\"myshipspan\">\346\210\221\347\232\204\350\210\271\345\217\252</span><br>\n"
 @current_user.usership.each do |ship|  
_erbout.concat "\t<div class=\"ship\">\n"
_erbout.concat "    \n"
_erbout.concat "\t"; _erbout.concat(( usershipimg(ship)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t"; _erbout.concat(( radio_button  "usership","id", ship.id , :checked => "checked" ).to_s); _erbout.concat " "; _erbout.concat(( ship.name ).to_s); _erbout.concat "\n"
_erbout.concat "\t";  if ship.robof && ship.robof > 0   ; _erbout.concat "\n"
_erbout.concat "\t<span class=\"gray\">(\346\255\243\345\234\250"; _erbout.concat(( link_to ml.name({"uid" =>ship.robof}), :controller => :home , :action => :friend ,:id => ship.robof ).to_s); _erbout.concat "\347\232\204\345\262\233\344\270\212\347\203\247\346\235\200\346\212\242\346\216\240)</span><br>\n"
_erbout.concat "     ";  if ship.robtime ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - ship.robtime,ship.capacity,ship.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end 
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "</form>\n"
 if @mynotice ; _erbout.concat "\n"
_erbout.concat "\t<div  id=\"noticelist\">\n"
_erbout.concat "\t\t<hr />\n"
_erbout.concat "\t\t<span id=\"piratenews\">\346\265\267\347\233\227\345\277\253\350\256\257  "; _erbout.concat(( link_to "查看更多",:controller => :notice ).to_s); _erbout.concat "</span>\n"
_erbout.concat "\t\t";  if @mynotice.length ==0 ; _erbout.concat "\n"
_erbout.concat "\t\t\t<br><span class=\"gray\">\346\232\202\346\227\240\344\277\241\346\201\257</span>\n"
_erbout.concat "\t\t";  else ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t\t\t"; @mynotice.each do |n|; _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t\t<div id=\"noticecontent\">"; _erbout.concat(( n.content ).to_s); _erbout.concat "</div><div id=\"noticetime\">"; _erbout.concat(( distance_of_time_in_words(Time.now,n.updated_at) ).to_s); _erbout.concat "</div><div style=\"clear:both;\"></div>\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"notify\">\n"
_erbout.concat "<h4>\345\205\254\345\221\212</h4>\n"
_erbout.concat "<ul>\n"
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:action => :index ,:help = >"1" ).to_s); _erbout.concat "\n"
_erbout.concat "</li>\n"
_erbout.concat "</ul>\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"friendlist\"  >\n"
_erbout.concat "\n"
_erbout.concat "<h4>\346\265\267\347\233\227\345\245\275\345\217\213</h4>\n"
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat(( link_to ml.name({"uid" => friend}),:controller => :home,:action => :friend,:id => friend ).to_s); _erbout.concat "\n"
_erbout.concat "</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "</div>"; _erbout
end
Backtrace: D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:240:in `compile_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:845:in `render_with_no_layout'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1161:in `default_render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1167:in `perform_action_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
script/server:3


ActionView::TemplateError (compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:224: syntax error, unexpected '=', expecting tASSOC
_erbout.concat "<li>"; _erbout.concat(( link_to "查看帮助",:action => :index ,:help = >"1" ).to_s); _erbout.concat "\n"
                                                                                         ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:232: syntax error, unexpected kDO_BLOCK, expecting kEND
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
                                 ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:240: syntax error, unexpected kEND, expecting $end) on line #224 of home/index.html.erb:
221: <div id="notify">
222: <h4>公告</h4>
223: <ul>
224: <li><%= link_to "查看帮助",:action => :index ,:help = >"1" %>
225: </li>
226: </ul>
227: </div>

    app/views/home/index.html.erb:240:in `compile_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:845:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1161:in `default_render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1167:in `perform_action_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 12:01:20) [POST]
  Session ID: 0983fc47b78b14f527af7729d1db5b93
  Parameters: {"my_extra"=>"", "my_sig_key"=>"dbcf53e7f03b4b1f8e7a93fee9fd63b6", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820893", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"4901489d0018d6a8177abf92c384d356", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '4901489d0018d6a8177abf92c384d356', `updated_at` = '2008-10-24 04:01:20' WHERE `id` = 26[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.016000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.016000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;35;1mNotice Columns (0.015000)[0m   [0mSHOW FIELDS FROM `notices`[0m
Completed in 0.26500 (3 reqs/sec) | Rendering: 0.09300 (35%) | DB: 0.09400 (35%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 12:01:24) [POST]
  Session ID: 9ea2f4b828890f194cfb0633c912e592
  Parameters: {"my_extra"=>"", "my_sig_key"=>"20cbbbce676eb2c21bd481ecfd0de034", "help"=>"1", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820897", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148a10018d6a89a5796a7c38bffdb", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148a10018d6a89a5796a7c38bffdb', `updated_at` = '2008-10-24 04:01:24' WHERE `id` = 26[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.016000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;35;1mNotice Columns (0.000000)[0m   [0mSHOW FIELDS FROM `notices`[0m
Cookie set: help=2; path=/
Completed in 0.23400 (4 reqs/sec) | Rendering: 0.10900 (46%) | DB: 0.07900 (33%) | 200 OK [http://61.172.255.117/?help=1&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 12:01:27) [POST]
  Session ID: 365208e3f8056f45887ceb42d1cfbb6c
  Parameters: {"my_extra"=>"", "my_sig_key"=>"8d667d0c59d789f06c92238205e048dc", "help"=>"2", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820901", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148a50018d6a8bb42b154c213e27f", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148a50018d6a8bb42b154c213e27f', `updated_at` = '2008-10-24 04:01:28' WHERE `id` = 26[0m
  [4;36;1mSQL (0.094000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.016000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;35;1mNotice Columns (0.000000)[0m   [0mSHOW FIELDS FROM `notices`[0m
Cookie set: help=3; path=/
Completed in 0.42200 (2 reqs/sec) | Rendering: 0.23400 (55%) | DB: 0.11000 (26%) | 200 OK [http://61.172.255.117/?help=2&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:01:35) [POST]
  Session ID: 756b072019904275643d309db5d098c9
  Parameters: {"my_extra"=>"", "my_sig_key"=>"5430174e3ba4bcdb55b45150f3585d44", "help"=>"3", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820908", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148ac0018d6a8596409009172531e", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.015000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148ac0018d6a8596409009172531e', `updated_at` = '2008-10-24 04:01:35' WHERE `id` = 26[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1641434' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.016000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.016000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Cookie set: help=4; path=/
Completed in 0.21900 (4 reqs/sec) | Rendering: 0.09300 (42%) | DB: 0.09400 (42%) | 200 OK [http://61.172.255.117/home/friend?help=3&my_extra=]


Processing ShopController#index (for 127.0.0.1 at 2008-10-24 12:01:41) [POST]
  Session ID: e927fba60dd068f52be77971d2e20c9d
  Parameters: {"my_extra"=>"", "my_sig_key"=>"f913dc3fd1932f62fdf9d09a4ffbfe73", "help"=>"4", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820914", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"shop", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148b20018d6a8d705e28db9b9757a", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148b20018d6a8d705e28db9b9757a', `updated_at` = '2008-10-24 04:01:41' WHERE `id` = 26[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` [0m
Rendering template within layouts/application
Rendering shop/index
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
Cookie set: help=5; path=/
Completed in 0.14000 (7 reqs/sec) | Rendering: 0.04700 (33%) | DB: 0.04800 (34%) | 200 OK [http://61.172.255.117/shop?help=4&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:01:46) [POST]
  Session ID: 858704eecb798d1f093a7b7225b94085
  Parameters: {"my_extra"=>"", "my_sig_key"=>"0098231a60f0641a9770f3f6995b237d", "help"=>"5", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820919", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148b70018d6a8410e531b70849510", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148b70018d6a8410e531b70849510', `updated_at` = '2008-10-24 04:01:46' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1641434' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.000000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Cookie set: help=6; path=/
Completed in 0.18800 (5 reqs/sec) | Rendering: 0.10900 (57%) | DB: 0.03100 (16%) | 200 OK [http://61.172.255.117/home/friend?help=5&my_extra=]


Processing ShopController#index (for 127.0.0.1 at 2008-10-24 12:01:52) [POST]
  Session ID: 047d510a0076c5409f41077fc5907be8
  Parameters: {"my_extra"=>"", "my_sig_key"=>"efd2c3c8f2d7f15929c8c842e4ea9636", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820925", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"shop", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148bd0018d6a847eb340013df729d", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.015000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148bd0018d6a847eb340013df729d', `updated_at` = '2008-10-24 04:01:52' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` [0m
Rendering template within layouts/application
Rendering shop/index
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
Completed in 0.10900 (9 reqs/sec) | Rendering: 0.01600 (14%) | DB: 0.04600 (42%) | 200 OK [http://61.172.255.117/shop?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 12:01:58) [POST]
  Session ID: d63b4f8a333658dcdcf76db1518d1a67
  Parameters: {"my_extra"=>"", "my_sig_key"=>"ea70bbb562630657e7c0812ff0f0a4f6", "my_sig_v"=>"0.1", "my_sig_time"=>"1224820931", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"490148c30018d6a8b12de039c8fb9bd6", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '490148c30018d6a8b12de039c8fb9bd6', `updated_at` = '2008-10-24 04:01:58' WHERE `id` = 26[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.000000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.016000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;35;1mNotice Columns (0.015000)[0m   [0mSHOW FIELDS FROM `notices`[0m
Completed in 0.25000 (4 reqs/sec) | Rendering: 0.09400 (37%) | DB: 0.09400 (37%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-24 12:08:32) [POST]
  Session ID: 623d4fed557071061bf5a8b3d3910714
  Parameters: {"my_extra"=>"", "my_sig_key"=>"fb1e6b55cba5ee681add27ac80b819d5", "my_sig_v"=>"0.1", "my_sig_time"=>"1224821325", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014a4d0018d6a8e0d7c2a4407c139c", "my_sig_in_canvas"=>"1"}
  [4;36;1mSQL (0.000000)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014a4d0018d6a8e0d7c2a4407c139c', `updated_at` = '2008-10-24 04:08:32' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Load (0.000000)[0m   [0;1mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;36;1mNotice Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `notices`[0m
Completed in 0.28200 (3 reqs/sec) | Rendering: 0.14200 (50%) | DB: 0.09300 (32%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:08:35) [POST]
  Session ID: 947abffe44d948e6e3293f5a75893754
  Parameters: {"my_extra"=>"", "my_sig_key"=>"eb40d0657c45342738911c2f2b51a137", "my_sig_v"=>"0.1", "my_sig_time"=>"1224821328", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"1591478", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014a500018d6a857c48fddd533c78a", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014a500018d6a857c48fddd533c78a', `updated_at` = '2008-10-24 04:08:35' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1591478' ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.000000)[0m   [0;1mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-24 04:08:35', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '1591478', 0, NULL, '2008-10-24 04:08:35')[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUsership Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Columns (0.016000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUsership Create (0.015000)[0m   [0;1mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-24 04:08:35', 1, 200, 10, 1000, 44, '2008-10-24 04:08:35', NULL)[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.29700 (3 reqs/sec) | Rendering: 0.03100 (10%) | DB: 0.14000 (47%) | 200 OK [http://61.172.255.117/home/friend/1591478?&my_extra=]


Processing ApplicationController#index (for 127.0.0.1 at 2008-10-24 12:08:38) [POST]
  Session ID: 8b0724d0786e7afc9107c9b10a69ae71
  Parameters: {"my_extra"=>"", "my_sig_key"=>"ccdaf958da0b833beb52f2d413305afa", "my_sig_v"=>"0.1", "my_sig_time"=>"1224821331", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "dock"=>"贸易", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014a530018d6a8966306fe820c0d6c", "my_sig_in_canvas"=>"1"}


ActionController::RoutingError (No route matches "/1007758/business/business/44" with {:method=>:post}):
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/routing/recognition_optimisation.rb:67:in `recognize_path'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/routing/route_set.rb:384:in `recognize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:148:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:09:15) [POST]
  Session ID: d3097b8bcca27746b49789e2dcf9c41f
  Parameters: {"my_extra"=>"", "my_sig_key"=>"c12219b46ee74619c97adb3b1f595968", "my_sig_v"=>"0.1", "my_sig_time"=>"1224821368", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"1591478", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014a780018d6a88e3bae2d81a63d38", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.015000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014a780018d6a88e3bae2d81a63d38', `updated_at` = '2008-10-24 04:09:15' WHERE `id` = 26[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1591478' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.23400 (4 reqs/sec) | Rendering: 0.11000 (47%) | DB: 0.07800 (33%) | 200 OK [http://61.172.255.117/home/friend/1591478?&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:09:32) [POST]
  Session ID: 10d0958669f146c6da3f9003b3c38872
  Parameters: {"my_extra"=>"", "my_sig_key"=>"a691e529774e0eda4cef32bcc8f38b85", "my_sig_v"=>"0.1", "my_sig_time"=>"1224821385", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"1591478", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014a890018d6a80aabafd961a77465", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014a890018d6a80aabafd961a77465', `updated_at` = '2008-10-24 04:09:32' WHERE `id` = 26[0m
  [4;36;1mSQL (0.046000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1591478' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.000000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.015000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.23400 (4 reqs/sec) | Rendering: 0.12600 (53%) | DB: 0.07700 (32%) | 200 OK [http://61.172.255.117/home/friend/1591478?&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:18:46) [POST]
  Session ID: b2e3c925ea91241470a0a0cee8d7ec78
  Parameters: {"my_extra"=>"", "my_sig_key"=>"8e361341f72fe5faea2c2f0e275547a4", "my_sig_v"=>"0.1", "my_sig_time"=>"1224821939", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"1591478", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014cb30018d6a89ab869c12c76a9bb", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014cb30018d6a89ab869c12c76a9bb', `updated_at` = '2008-10-24 04:18:46' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1591478' ) [0m
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_47app47views47home47index46html46erb RAISED compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected ':', expecting '}'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" },:id=>"myformb",:method => "POST") ).to_s); _erbout.concat "\n"
                                                                                                                                ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected '}', expecting ')'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" },:id=>"myformb",:method => "POST") ).to_s); _erbout.concat "\n"
                                                                                                                                                                                                                  ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected ',', expecting ')'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" },:id=>"myformb",:method => "POST") ).to_s); _erbout.concat "\n"
                                                                                                                                                                                                                                  ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected ')', expecting kEND
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" },:id=>"myformb",:method => "POST") ).to_s); _erbout.concat "\n"
                                                                                                                                                                                                                                                            ^
Function body: def _run_erb_47app47views47home47index46html46erb(local_assigns)
_erbout = '';  ml = Ml.new ; _erbout.concat "\n"
_erbout.concat "<style type=\"text/css\">\n"
_erbout.concat "#mybody {\n"
_erbout.concat "\twidth: 620px;\n"
_erbout.concat "\tfloat:left;\n"
_erbout.concat "\tpadding: 5px;\n"
_erbout.concat "}\n"
_erbout.concat "#docklist{\n"
_erbout.concat "}\n"
_erbout.concat "#roblist{\n"
_erbout.concat "}\n"
_erbout.concat ".dock {\n"
_erbout.concat "\tfloat: left;\n"
_erbout.concat "\twidth:155px;\n"
_erbout.concat "\ttext-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "#friendlist {\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:300px;\n"
_erbout.concat "overflow:auto;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "#islandinfo{\n"
_erbout.concat "\tcolor:red;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#piratenews{\n"
_erbout.concat "\tcolor:green;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticeone {\n"
_erbout.concat "height:25px;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticecontent {\n"
_erbout.concat "float:left;\n"
_erbout.concat "height:28px;\n"
_erbout.concat "width:500px;\n"
_erbout.concat "}\n"
_erbout.concat "#myshipspan{\n"
_erbout.concat "\tcolor:blue;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat ".ship{\n"
_erbout.concat "float:left;\n"
_erbout.concat "width:180px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "h4 {\n"
_erbout.concat "text-align:center;height:25px;background:#D8DFEA none repeat scroll 0%;\n"
_erbout.concat "border-top:1px solid #3B5888;font-size:14px;font-weight:bold;line-height:25px;font-weight:bold;\n"
_erbout.concat "}\n"
_erbout.concat ".gray{\n"
_erbout.concat "color: #666666;\n"
_erbout.concat "}\n"
_erbout.concat ".gotofriend{\n"
_erbout.concat "color:#0000ff;\n"
_erbout.concat "text-align:right;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticetime {\n"
_erbout.concat "float:right;\n"
_erbout.concat "}\n"
_erbout.concat "#notify\n"
_erbout.concat "{\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:100px;\n"
_erbout.concat "}\n"
_erbout.concat "#business_dock\n"
_erbout.concat "{\n"
_erbout.concat "border:2px solid #225599;\n"
_erbout.concat "float: left;\n"
_erbout.concat "width:151px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat ".gorob{\n"
_erbout.concat "float:right;\n"
_erbout.concat "text-size:15px;\n"
_erbout.concat "}\n"
_erbout.concat "</style>\n"
_erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"mybody\">\n"
_erbout.concat "<div class=\"gotofriend\"></div>\n"
_erbout.concat "<div id=\"islandinfo\">"; _erbout.concat(( ml.userpic("uid" => @user.xid,"linked"=>"true") ).to_s); _erbout.concat(( ml.name("uid"=>@user.xid)).to_s); _erbout.concat "\347\232\204\345\260\217\345\262\233<span class=\"gorob\">"; _erbout.concat(( link_to ">>去抢劫好友",:controller => :home ,:action => :friend  ).to_s); _erbout.concat "</span><br>\n"
_erbout.concat "<hr /></div>\n"
_erbout.concat "<div id=\"docklist\">\n"
_erbout.concat "<div id=\"dock1\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock2\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock3\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"business_dock\" >"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\350\264\270\346\230\223\347\240\201\345\244\264<br>\n"
_erbout.concat "&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock4 == nil or @user.dock4 == 0) and @current_user.xid != @user.xid
_erbout.concat(( ml.if_is_app_user({"uid" => @user.xid}) ).to_s); _erbout.concat " \n"
_erbout.concat "<form action=\"/1007758/business/business/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\"> \n"
_erbout.concat " "; _erbout.concat(( submit_tag "贸易" , :name => "dock" ,:value => "贸易" ).to_s); _erbout.concat "\n"
_erbout.concat "</form>\n"
_erbout.concat(( ml.mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" },:id=>"myformb",:method => "POST") ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form_submit({"uid" => @user.xid,"label" => "倒卖" }) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_request_form ).to_s); _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat(( ml.end_mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_if_is_app_user ).to_s); _erbout.concat " \n"
_erbout.concat(( link_to "换下一个",:controller=>:home,:action => :friend,:id=>nil ).to_s); _erbout.concat " \n"
_erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t \n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock4 and @user.dock4 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock4) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\201\234\351\235\240\345\234\250\350\257\245\347\240\201\345\244\264<br>\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "赶跑TA" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<form action=\"/1007758/home/rob/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\">\n"
_erbout.concat "<div id=\"roblist\">\n"
_erbout.concat "\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock1 == nil or @user.dock1 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock1 and @user.dock1 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock1) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t \345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock1_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201\n"
_erbout.concat "\t\t\t\t ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t  ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock2 == nil or @user.dock2 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock2 and @user.dock2 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock2) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock2_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock2_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock3 == nil or @user.dock3 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock3 and @user.dock3 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock3) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock3_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock3_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"shiplist\">\n"
_erbout.concat "<hr />\n"
_erbout.concat "<span id=\"myshipspan\">\346\210\221\347\232\204\350\210\271\345\217\252</span><br>\n"
 @current_user.usership.each do |ship|  
_erbout.concat "\t<div class=\"ship\">\n"
_erbout.concat "    \n"
_erbout.concat "\t"; _erbout.concat(( usershipimg(ship)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t"; _erbout.concat(( radio_button  "usership","id", ship.id , :checked => "checked" ).to_s); _erbout.concat " "; _erbout.concat(( ship.name ).to_s); _erbout.concat "\n"
_erbout.concat "\t";  if ship.robof && ship.robof > 0   ; _erbout.concat "\n"
_erbout.concat "\t<span class=\"gray\">(\346\255\243\345\234\250"; _erbout.concat(( link_to ml.name({"uid" =>ship.robof}), :controller => :home , :action => :friend ,:id => ship.robof ).to_s); _erbout.concat "\347\232\204\345\262\233\344\270\212\347\203\247\346\235\200\346\212\242\346\216\240)</span><br>\n"
_erbout.concat "     ";  if ship.robtime ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - ship.robtime,ship.capacity,ship.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end 
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "</form>\n"
 if @mynotice ; _erbout.concat "\n"
_erbout.concat "\t<div  id=\"noticelist\">\n"
_erbout.concat "\t\t<hr />\n"
_erbout.concat "\t\t<span id=\"piratenews\">\346\265\267\347\233\227\345\277\253\350\256\257  "; _erbout.concat(( link_to "查看更多",:controller => :notice ).to_s); _erbout.concat "</span>\n"
_erbout.concat "\t\t";  if @mynotice.length ==0 ; _erbout.concat "\n"
_erbout.concat "\t\t\t<br><span class=\"gray\">\346\232\202\346\227\240\344\277\241\346\201\257</span>\n"
_erbout.concat "\t\t";  else ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t\t\t"; @mynotice.each do |n|; _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t\t<div id=\"noticecontent\">"; _erbout.concat(( n.content ).to_s); _erbout.concat "</div><div id=\"noticetime\">"; _erbout.concat(( distance_of_time_in_words(Time.now,n.updated_at) ).to_s); _erbout.concat "</div><div style=\"clear:both;\"></div>\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"notify\">\n"
_erbout.concat "<h4>\345\205\254\345\221\212</h4>\n"
_erbout.concat "<ul>\n"
_erbout.concat "<li>\344\270\215\344\274\232\347\216\251\357\274\237"; _erbout.concat(( link_to "查看帮助",:controller => :home,:action => :index ,:help =>"1" ).to_s); _erbout.concat "\n"
_erbout.concat "</li>\n"
_erbout.concat "</ul>\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"friendlist\"  >\n"
_erbout.concat "\n"
_erbout.concat "<h4>\346\265\267\347\233\227\345\245\275\345\217\213</h4>\n"
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat(( link_to ml.name({"uid" => friend}),:controller => :home,:action => :friend,:id => friend ).to_s); _erbout.concat "\n"
_erbout.concat "</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "</div>"; _erbout
end
Backtrace: D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:241:in `compile_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:869:in `render_with_no_layout'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:884:in `render_with_no_layout'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/rails_apps/my/lpiratemy/app/controllers/home_controller.rb:19:in `friend'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1166:in `send'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1166:in `perform_action_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
script/server:3


ActionView::TemplateError (compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected ':', expecting '}'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" },:id=>"myformb",:method => "POST") ).to_s); _erbout.concat "\n"
                                                                                                                                ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected '}', expecting ')'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" },:id=>"myformb",:method => "POST") ).to_s); _erbout.concat "\n"
                                                                                                                                                                                                                  ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected ',', expecting ')'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" },:id=>"myformb",:method => "POST") ).to_s); _erbout.concat "\n"
                                                                                                                                                                                                                                  ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected ')', expecting kEND
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" },:id=>"myformb",:method => "POST") ).to_s); _erbout.concat "\n"
                                                                                                                                                                                                                                                            ^) on line #105 of home/index.html.erb:
102:  <%= submit_tag "贸易" , :name => "dock" ,:value => "贸易" %>
103: </form>
104: <%= ml.mlelse %>
105: <%= ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" },:id=>"myformb",:method => "POST") %>
106: <%= ml.request_form_submit({"uid" => @user.xid,"label" => "倒卖" }) %>
107: <%= ml.end_request_form %>
108: 

    app/views/home/index.html.erb:241:in `compile_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:869:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:884:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    app/controllers/home_controller.rb:19:in `friend'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1166:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1166:in `perform_action_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:19:06) [POST]
  Session ID: cc07eaa75db8f6839495d6240c02bb69
  Parameters: {"my_extra"=>"", "my_sig_key"=>"7b1cfc40cb099c9aed6a81ae3fc672c0", "my_sig_v"=>"0.1", "my_sig_time"=>"1224821959", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"1591478", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014cc70018d6a8d93c3f5852c15b42", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014cc70018d6a8d93c3f5852c15b42', `updated_at` = '2008-10-24 04:19:06' WHERE `id` = 26[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1591478' ) [0m
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_47app47views47home47index46html46erb RAISED compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected ':', expecting '}'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" ,:id=>"myformb",:method => "POST"}) ).to_s); _erbout.concat "\n"
                                                                                                                                ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected ',', expecting ')'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" ,:id=>"myformb",:method => "POST"}) ).to_s); _erbout.concat "\n"
                                                                                                                                                                                                                  ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected ',', expecting ')'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" ,:id=>"myformb",:method => "POST"}) ).to_s); _erbout.concat "\n"
                                                                                                                                                                                                                                 ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected '}', expecting ')'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" ,:id=>"myformb",:method => "POST"}) ).to_s); _erbout.concat "\n"
                                                                                                                                                                                                                                                   ^
Function body: def _run_erb_47app47views47home47index46html46erb(local_assigns)
_erbout = '';  ml = Ml.new ; _erbout.concat "\n"
_erbout.concat "<style type=\"text/css\">\n"
_erbout.concat "#mybody {\n"
_erbout.concat "\twidth: 620px;\n"
_erbout.concat "\tfloat:left;\n"
_erbout.concat "\tpadding: 5px;\n"
_erbout.concat "}\n"
_erbout.concat "#docklist{\n"
_erbout.concat "}\n"
_erbout.concat "#roblist{\n"
_erbout.concat "}\n"
_erbout.concat ".dock {\n"
_erbout.concat "\tfloat: left;\n"
_erbout.concat "\twidth:155px;\n"
_erbout.concat "\ttext-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "#friendlist {\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:300px;\n"
_erbout.concat "overflow:auto;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "#islandinfo{\n"
_erbout.concat "\tcolor:red;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#piratenews{\n"
_erbout.concat "\tcolor:green;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticeone {\n"
_erbout.concat "height:25px;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticecontent {\n"
_erbout.concat "float:left;\n"
_erbout.concat "height:28px;\n"
_erbout.concat "width:500px;\n"
_erbout.concat "}\n"
_erbout.concat "#myshipspan{\n"
_erbout.concat "\tcolor:blue;\n"
_erbout.concat "\tfont-weight: bold;\n"
_erbout.concat "}\n"
_erbout.concat ".ship{\n"
_erbout.concat "float:left;\n"
_erbout.concat "width:180px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat "\n"
_erbout.concat "h4 {\n"
_erbout.concat "text-align:center;height:25px;background:#D8DFEA none repeat scroll 0%;\n"
_erbout.concat "border-top:1px solid #3B5888;font-size:14px;font-weight:bold;line-height:25px;font-weight:bold;\n"
_erbout.concat "}\n"
_erbout.concat ".gray{\n"
_erbout.concat "color: #666666;\n"
_erbout.concat "}\n"
_erbout.concat ".gotofriend{\n"
_erbout.concat "color:#0000ff;\n"
_erbout.concat "text-align:right;\n"
_erbout.concat "}\n"
_erbout.concat "#mybody #noticelist #noticetime {\n"
_erbout.concat "float:right;\n"
_erbout.concat "}\n"
_erbout.concat "#notify\n"
_erbout.concat "{\n"
_erbout.concat "float:right;\n"
_erbout.concat "width:160px;\n"
_erbout.concat "height:100px;\n"
_erbout.concat "}\n"
_erbout.concat "#business_dock\n"
_erbout.concat "{\n"
_erbout.concat "border:2px solid #225599;\n"
_erbout.concat "float: left;\n"
_erbout.concat "width:151px;\n"
_erbout.concat "text-align:center;\n"
_erbout.concat "}\n"
_erbout.concat ".gorob{\n"
_erbout.concat "float:right;\n"
_erbout.concat "text-size:15px;\n"
_erbout.concat "}\n"
_erbout.concat "</style>\n"
_erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"mybody\">\n"
_erbout.concat "<div class=\"gotofriend\"></div>\n"
_erbout.concat "<div id=\"islandinfo\">"; _erbout.concat(( ml.userpic("uid" => @user.xid,"linked"=>"true") ).to_s); _erbout.concat(( ml.name("uid"=>@user.xid)).to_s); _erbout.concat "\347\232\204\345\260\217\345\262\233<span class=\"gorob\">"; _erbout.concat(( link_to ">>去抢劫好友",:controller => :home ,:action => :friend  ).to_s); _erbout.concat "</span><br>\n"
_erbout.concat "<hr /></div>\n"
_erbout.concat "<div id=\"docklist\">\n"
_erbout.concat "<div id=\"dock1\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock2\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"dock3\" class=\"dock\">"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\347\240\201\345\244\264</div>\n"
_erbout.concat "<div id=\"business_dock\" >"; _erbout.concat(( ml.image("dock") ).to_s); _erbout.concat "<br>\n"
_erbout.concat "\350\264\270\346\230\223\347\240\201\345\244\264<br>\n"
_erbout.concat "&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock4 == nil or @user.dock4 == 0) and @current_user.xid != @user.xid
_erbout.concat(( ml.if_is_app_user({"uid" => @user.xid}) ).to_s); _erbout.concat " \n"
_erbout.concat "<form action=\"/1007758/business/business/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\"> \n"
_erbout.concat " "; _erbout.concat(( submit_tag "贸易" , :name => "dock" ,:value => "贸易" ).to_s); _erbout.concat "\n"
_erbout.concat "</form>\n"
_erbout.concat(( ml.mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" ,:id=>"myformb",:method => "POST"}) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.request_form_submit({"uid" => @user.xid,"label" => "倒卖" }) ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_request_form ).to_s); _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat(( ml.end_mlelse ).to_s); _erbout.concat "\n"
_erbout.concat(( ml.end_if_is_app_user ).to_s); _erbout.concat " \n"
_erbout.concat(( link_to "换下一个",:controller=>:home,:action => :friend,:id=>nil ).to_s); _erbout.concat " \n"
_erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t \n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock4 and @user.dock4 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock4) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\201\234\351\235\240\345\234\250\350\257\245\347\240\201\345\244\264<br>\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "赶跑TA" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<form action=\"/1007758/home/rob/"; _erbout.concat(( @user.id ).to_s); _erbout.concat "\">\n"
_erbout.concat "<div id=\"roblist\">\n"
_erbout.concat "\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock1 == nil or @user.dock1 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock1 and @user.dock1 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock1) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t \345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock1_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201\n"
_erbout.concat "\t\t\t\t ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头1" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t  ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock2 == nil or @user.dock2 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock2 and @user.dock2 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock2) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock2_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock2_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头2" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t&nbsp;\n"
_erbout.concat "\t\t";  if (@user.dock3 == nil or @user.dock3 == 0) and @current_user.xid != @user.xid 
_erbout.concat "\t\t\t "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "抢劫码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t";  else #别人正在抢 
_erbout.concat "\t\t\t ";  if @user.dock3 and @user.dock3 > 0 
_erbout.concat "\t\t\t\t ";  usership = Usership.find(@user.dock3) ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( usershipimg(usership)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t\t\t\t "; _erbout.concat(( ml.image("small_skull") ).to_s); _erbout.concat(( link_to ml.name({"uid" => usership.user.xid}), :controller => :home , :action => :friend ,:id => usership.user.xid ).to_s); _erbout.concat "\346\255\243\345\234\250\350\257\245\347\240\201\345\244\264\346\212\242\345\212\253<br>\n"
_erbout.concat "\t\t\t\t ";  if @user.dock3_time ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - @user.dock3_time,usership.capacity,usership.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t  ";  if @current_user.xid == @user.xid ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t\t  "; _erbout.concat(( submit_tag "抢劫" , :name => "dock" ,:value => "夺回码头3" ).to_s); _erbout.concat "\n"
_erbout.concat "\t\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t\t ";  end ; _erbout.concat " \n"
_erbout.concat "\t\t";  end 
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div  class=\"dock\">\n"
_erbout.concat "\t\n"
_erbout.concat "\t</div>\n"
_erbout.concat "\t<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"shiplist\">\n"
_erbout.concat "<hr />\n"
_erbout.concat "<span id=\"myshipspan\">\346\210\221\347\232\204\350\210\271\345\217\252</span><br>\n"
 @current_user.usership.each do |ship|  
_erbout.concat "\t<div class=\"ship\">\n"
_erbout.concat "    \n"
_erbout.concat "\t"; _erbout.concat(( usershipimg(ship)).to_s); _erbout.concat "<br>\n"
_erbout.concat "\t"; _erbout.concat(( radio_button  "usership","id", ship.id , :checked => "checked" ).to_s); _erbout.concat " "; _erbout.concat(( ship.name ).to_s); _erbout.concat "\n"
_erbout.concat "\t";  if ship.robof && ship.robof > 0   ; _erbout.concat "\n"
_erbout.concat "\t<span class=\"gray\">(\346\255\243\345\234\250"; _erbout.concat(( link_to ml.name({"uid" =>ship.robof}), :controller => :home , :action => :friend ,:id => ship.robof ).to_s); _erbout.concat "\347\232\204\345\262\233\344\270\212\347\203\247\346\235\200\346\212\242\346\216\240)</span><br>\n"
_erbout.concat "     ";  if ship.robtime ; _erbout.concat "\345\267\262\347\273\217\346\216\240\345\244\272\344\272\206"; _erbout.concat(( conversion(Time.now - ship.robtime,ship.capacity,ship.robspeed).to_i ).to_s); _erbout.concat "\344\270\252\351\207\221\345\270\201";  end ; _erbout.concat "\n"
_erbout.concat "\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end 
_erbout.concat "<div style=\"clear:both;\"></div>\n"
_erbout.concat "</div>\n"
_erbout.concat "</form>\n"
 if @mynotice ; _erbout.concat "\n"
_erbout.concat "\t<div  id=\"noticelist\">\n"
_erbout.concat "\t\t<hr />\n"
_erbout.concat "\t\t<span id=\"piratenews\">\346\265\267\347\233\227\345\277\253\350\256\257  "; _erbout.concat(( link_to "查看更多",:controller => :notice ).to_s); _erbout.concat "</span>\n"
_erbout.concat "\t\t";  if @mynotice.length ==0 ; _erbout.concat "\n"
_erbout.concat "\t\t\t<br><span class=\"gray\">\346\232\202\346\227\240\344\277\241\346\201\257</span>\n"
_erbout.concat "\t\t";  else ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t\t\t"; @mynotice.each do |n|; _erbout.concat "\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t\t<div id=\"noticecontent\">"; _erbout.concat(( n.content ).to_s); _erbout.concat "</div><div id=\"noticetime\">"; _erbout.concat(( distance_of_time_in_words(Time.now,n.updated_at) ).to_s); _erbout.concat "</div><div style=\"clear:both;\"></div>\n"
_erbout.concat "\n"
_erbout.concat "\t\t\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t\n"
_erbout.concat "\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "<div id=\"notify\">\n"
_erbout.concat "<h4>\345\205\254\345\221\212</h4>\n"
_erbout.concat "<ul>\n"
_erbout.concat "<li>\344\270\215\344\274\232\347\216\251\357\274\237"; _erbout.concat(( link_to "查看帮助",:controller => :home,:action => :index ,:help =>"1" ).to_s); _erbout.concat "\n"
_erbout.concat "</li>\n"
_erbout.concat "</ul>\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "<div id=\"friendlist\"  >\n"
_erbout.concat "\n"
_erbout.concat "<h4>\346\265\267\347\233\227\345\245\275\345\217\213</h4>\n"
 @current_user.friend_ids.each do |friend| ; _erbout.concat "\n"
_erbout.concat "<div>\n"
_erbout.concat(( link_to ml.name({"uid" => friend}),:controller => :home,:action => :friend,:id => friend ).to_s); _erbout.concat "\n"
_erbout.concat "</div>\n"
 end ; _erbout.concat "\n"
_erbout.concat "</div>\n"
_erbout.concat "\n"
_erbout.concat "</div>"; _erbout
end
Backtrace: D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:241:in `compile_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:869:in `render_with_no_layout'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:884:in `render_with_no_layout'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
D:/ruby/rails_apps/my/lpiratemy/app/controllers/home_controller.rb:19:in `friend'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1166:in `send'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1166:in `perform_action_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
script/server:3


ActionView::TemplateError (compile error
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected ':', expecting '}'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" ,:id=>"myformb",:method => "POST"}) ).to_s); _erbout.concat "\n"
                                                                                                                                ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected ',', expecting ')'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" ,:id=>"myformb",:method => "POST"}) ).to_s); _erbout.concat "\n"
                                                                                                                                                                                                                  ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected ',', expecting ')'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" ,:id=>"myformb",:method => "POST"}) ).to_s); _erbout.concat "\n"
                                                                                                                                                                                                                                 ^
D:/ruby/rails_apps/my/lpiratemy/app/views/home/index.html.erb:105: syntax error, unexpected '}', expecting ')'
_erbout.concat(( ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" ,:id=>"myformb",:method => "POST"}) ).to_s); _erbout.concat "\n"
                                                                                                                                                                                                                                                   ^) on line #105 of home/index.html.erb:
102:  <%= submit_tag "贸易" , :name => "dock" ,:value => "贸易" %>
103: </form>
104: <%= ml.mlelse %>
105: <%= ml.request_form({:type => "海盗时代",:action => "/1007758/business/invite/#{@user.id}",:invite => "true" ,: content =>"邀请你一起来做海盗<my:req-choice url='' label='我愿意'>" ,:id=>"myformb",:method => "POST"}) %>
106: <%= ml.request_form_submit({"uid" => @user.xid,"label" => "倒卖" }) %>
107: <%= ml.end_request_form %>
108: 

    app/views/home/index.html.erb:241:in `compile_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:55:in `prepare!'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:34:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:869:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:884:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    app/controllers/home_controller.rb:19:in `friend'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1166:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1166:in `perform_action_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:19:18) [POST]
  Session ID: 994df44edeacc82b4e40db60e5ea2cb5
  Parameters: {"my_extra"=>"", "my_sig_key"=>"2e2349457d0dffe9a275fb09c5812886", "my_sig_v"=>"0.1", "my_sig_time"=>"1224821971", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"1591478", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014cd30018d6a89003b0fbeb11fc85", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014cd30018d6a89003b0fbeb11fc85', `updated_at` = '2008-10-24 04:19:18' WHERE `id` = 26[0m
  [4;35;1mSQL (0.062000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1591478' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.25000 (4 reqs/sec) | Rendering: 0.12500 (50%) | DB: 0.09300 (37%) | 200 OK [http://61.172.255.117/home/friend/1591478?&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:19:37) [POST]
  Session ID: 3a357deb6a297804ff65ec9d1c4a5eea
  Parameters: {"my_extra"=>"", "my_sig_key"=>"3f9d6139f7bc6888a612745ca0aac9d6", "my_sig_v"=>"0.1", "my_sig_time"=>"1224821990", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"1591478", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014ce60018d6a8782a2c242fb6772b", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.015000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014ce60018d6a8782a2c242fb6772b', `updated_at` = '2008-10-24 04:19:37' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1591478' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.016000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.016000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.23400 (4 reqs/sec) | Rendering: 0.10800 (46%) | DB: 0.07800 (33%) | 200 OK [http://61.172.255.117/home/friend/1591478?&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:20:53) [POST]
  Session ID: a187bd43872ff0624c29e0b7f2b6b387
  Parameters: {"my_extra"=>"", "my_sig_key"=>"4b50b94292bfc7c8eecddb48eb58bc73", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822061", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"1591478", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014d2d0018d6a87e58552f421802a9", "my_sig_in_canvas"=>"1"}
  [4;36;1mSQL (0.000000)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014d2d0018d6a87e58552f421802a9', `updated_at` = '2008-10-24 04:20:54' WHERE `id` = 26[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1591478' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.23500 (4 reqs/sec) | Rendering: 0.11000 (46%) | DB: 0.07900 (33%) | 200 OK [http://61.172.255.117/home/friend/1591478?&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:21:08) [POST]
  Session ID: 7af65312b9f8782f68f78218efc9cd5b
  Parameters: {"my_extra"=>"", "my_sig_key"=>"daa3fb5abc3c2d6938108105b8669944", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822081", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"1591478", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014d410018d6a89fdb38bad4c093f8", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.015000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014d410018d6a89fdb38bad4c093f8', `updated_at` = '2008-10-24 04:21:08' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.016000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1591478' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.016000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.21900 (4 reqs/sec) | Rendering: 0.10900 (49%) | DB: 0.07800 (35%) | 200 OK [http://61.172.255.117/home/friend/1591478?&my_extra=]


Processing ApplicationController#index (for 127.0.0.1 at 2008-10-24 12:21:21) [POST]
  Session ID: d9a1bfd558e471c3d499906c801d31d2
  Parameters: {"my_sig_key"=>"d752f89c9f74a7278509e4707692e03e", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822094", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014d4e0018d6a8627a293df9e816d8", "my_sig_in_canvas"=>"1"}


ActionController::RoutingError (No route matches "/1007758/business/invite/44" with {:method=>:post}):
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/routing/recognition_optimisation.rb:67:in `recognize_path'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/routing/route_set.rb:384:in `recognize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:148:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:21:54) [POST]
  Session ID: 2f74ccf3de74a460f3f2443b1e6ae0b6
  Parameters: {"my_extra"=>"", "my_sig_key"=>"b3538625ab6ba4c4798e74d0a7ddea75", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822127", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"1591478", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014d6f0018d6a89b06a630e3a1f852", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014d6f0018d6a89b06a630e3a1f852', `updated_at` = '2008-10-24 04:21:54' WHERE `id` = 26[0m
  [4;35;1mSQL (0.094000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1591478' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.29700 (3 reqs/sec) | Rendering: 0.12600 (42%) | DB: 0.12400 (41%) | 200 OK [http://61.172.255.117/home/friend/1591478?&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:21:59) [POST]
  Session ID: 53d3fe6fc9d9f91f84346e7f5a7dc52b
  Parameters: {"my_extra"=>"", "my_sig_key"=>"d7669e9c7fde8416d71917288cc041c2", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822132", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"1591816", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014d740018d6a87f45f786259f2350", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014d740018d6a87f45f786259f2350', `updated_at` = '2008-10-24 04:22:00' WHERE `id` = 26[0m
  [4;36;1mSQL (0.046000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1591816' ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-24 04:22:00', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '1591816', 0, NULL, '2008-10-24 04:22:00')[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUsership Columns (0.000000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUsership Create (0.000000)[0m   [0mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-24 04:22:00', 1, 200, 10, 1000, 45, '2008-10-24 04:22:00', NULL)[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.26600 (3 reqs/sec) | Rendering: 0.01600 (6%) | DB: 0.14000 (52%) | 200 OK [http://61.172.255.117/home/friend/1591816?&my_extra=]


Processing BusinessController#invite (for 127.0.0.1 at 2008-10-24 12:22:04) [POST]
  Session ID: db6b853da3193758ed8f225178c27941
  Parameters: {"my_sig_key"=>"6869609cd40966d123182d2ee1302540", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822137", "action"=>"invite", "my_sig_appId"=>"1007725", "id"=>"45", "my_sig_sId"=>"100", "controller"=>"business", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014d790018d6a8e3bf0656032b7cc1", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014d790018d6a8e3bf0656032b7cc1', `updated_at` = '2008-10-24 04:22:04' WHERE `id` = 26[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.gsub):
    D:/ruby/ruby/lib/ruby/1.8/uri/common.rb:289:in `escape'
    /app/controllers/application.rb:77:in `xn_redirect_to'
    /app/controllers/application.rb:76:in `each'
    /app/controllers/application.rb:76:in `xn_redirect_to'
    /app/controllers/business_controller.rb:71:in `invite'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1166:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1166:in `perform_action_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:23:45) [POST]
  Session ID: c0bcdab46fed3b534a45a37d3c4ec261
  Parameters: {"my_extra"=>"", "my_sig_key"=>"7e4b322ec34efc39406c4665a763ad96", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822238", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"1591816", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014dde0018d6a84981d72771dc526b", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.015000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014dde0018d6a84981d72771dc526b', `updated_at` = '2008-10-24 04:23:45' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1591816' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.20300 (4 reqs/sec) | Rendering: 0.12500 (61%) | DB: 0.06200 (30%) | 200 OK [http://61.172.255.117/home/friend/1591816?&my_extra=]


Processing BusinessController#invite (for 127.0.0.1 at 2008-10-24 12:23:50) [POST]
  Session ID: 8db2d681efce92bee042056178e2d183
  Parameters: {"my_sig_key"=>"e4f1865b401541d32bdf3492e697de4b", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822243", "action"=>"invite", "my_sig_appId"=>"1007725", "id"=>"45", "my_sig_sId"=>"100", "controller"=>"business", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014de30018d6a8c4b48796a36f562a", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.015000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014de30018d6a8c4b48796a36f562a', `updated_at` = '2008-10-24 04:23:50' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
Completed in 0.07800 (12 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.04600 (58%) | 200 OK [http://61.172.255.117/business/invite/45]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:23:52) [POST]
  Session ID: 6261524ff06ea9d124f1c0d794c25283
  Parameters: {"my_extra"=>"", "my_sig_key"=>"1cb2a0ef37c781481405318db1592d05", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822245", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014de50018d6a8a7af9da4f047a82b", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014de50018d6a8a7af9da4f047a82b', `updated_at` = '2008-10-24 04:23:52' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1591494' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.20300 (4 reqs/sec) | Rendering: 0.09400 (46%) | DB: 0.07800 (38%) | 200 OK [http://61.172.255.117/home/friend/?&my_extra=]


Processing BusinessController#invite (for 127.0.0.1 at 2008-10-24 12:24:01) [POST]
  Session ID: a46fb660314fbce5b08702e24948ac63
  Parameters: {"my_sig_key"=>"1da6a85b492ba9837a6b3e3167f64f25", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822253", "action"=>"invite", "my_sig_appId"=>"1007725", "id"=>"27", "my_sig_sId"=>"100", "controller"=>"business", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014ded0018d6a864b59c3c771b6d03", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.015000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014ded0018d6a864b59c3c771b6d03', `updated_at` = '2008-10-24 04:24:01' WHERE `id` = 26[0m
  [4;36;1mSQL (0.032000)[0m   [0;1mCOMMIT[0m
Completed in 0.07900 (12 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.04700 (59%) | 200 OK [http://61.172.255.117/business/invite/27]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:24:03) [POST]
  Session ID: 80f679b763a02f07dc46c43963787a9e
  Parameters: {"my_extra"=>"", "my_sig_key"=>"dc3631369e9c5ffae260d1f4579aa663", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822256", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014df00018d6a85f00b56d446e0b2b", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014df00018d6a85f00b56d446e0b2b', `updated_at` = '2008-10-24 04:24:03' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1670869' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.20300 (4 reqs/sec) | Rendering: 0.10900 (53%) | DB: 0.06300 (31%) | 200 OK [http://61.172.255.117/home/friend/?&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:24:11) [POST]
  Session ID: a34e59cf789c07364bd7d06acae25513
  Parameters: {"my_extra"=>"", "my_sig_key"=>"a7343b02c437db02f268ebb466ad1b9d", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822264", "action"=>"friend", "my_sig_appId"=>"1007725", "id"=>"41586805", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014df80018d6a83e718abcf73b18d0", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014df80018d6a83e718abcf73b18d0', `updated_at` = '2008-10-24 04:24:11' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '41586805' ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-24 04:24:11', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '41586805', 0, NULL, '2008-10-24 04:24:11')[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUsership Columns (0.015000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUsership Create (0.000000)[0m   [0mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-24 04:24:11', 1, 200, 10, 1000, 46, '2008-10-24 04:24:11', NULL)[0m
  [4;36;1mSQL (0.032000)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.28100 (3 reqs/sec) | Rendering: 0.03100 (11%) | DB: 0.12500 (44%) | 200 OK [http://61.172.255.117/home/friend/41586805?&my_extra=]


Processing BusinessController#invite (for 127.0.0.1 at 2008-10-24 12:24:17) [POST]
  Session ID: 54701bff685811d60eb72cb9a4f7e895
  Parameters: {"my_sig_key"=>"8f805cfadb302f659bfea3f718e056a8", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822270", "action"=>"invite", "my_sig_appId"=>"1007725", "id"=>"46", "my_sig_sId"=>"100", "controller"=>"business", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014dfe0018d6a88ba53493ffa6708e", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014dfe0018d6a88ba53493ffa6708e', `updated_at` = '2008-10-24 04:24:17' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
Completed in 0.07800 (12 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.04700 (60%) | 200 OK [http://61.172.255.117/business/invite/46]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:24:19) [POST]
  Session ID: 9c32e8e2f0d2f204a8f09dfb894c7f67
  Parameters: {"my_extra"=>"", "my_sig_key"=>"4b3d24263b0eaceb4c76165fdf796719", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822272", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014e000018d6a8a9159c542b52726a", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014e000018d6a8a9159c542b52726a', `updated_at` = '2008-10-24 04:24:19' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1670869' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.37500 (2 reqs/sec) | Rendering: 0.10900 (29%) | DB: 0.07700 (20%) | 200 OK [http://61.172.255.117/home/friend/?&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:26:02) [POST]
  Session ID: 063fea2f45b8c1b20a5af8ec91d32cb6
  Parameters: {"my_extra"=>"", "my_sig_key"=>"239a177a0200637158fab67f68006cfe", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822375", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014e670018d6a86162e595a7e66988", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014e670018d6a86162e595a7e66988', `updated_at` = '2008-10-24 04:26:02' WHERE `id` = 26[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1626444' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.000000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.21900 (4 reqs/sec) | Rendering: 0.10900 (49%) | DB: 0.06300 (28%) | 200 OK [http://61.172.255.117/home/friend/?&my_extra=]


Processing BusinessController#invite (for 127.0.0.1 at 2008-10-24 12:26:06) [POST]
  Session ID: 0d99c18e192b888b63ff831ea81de0a5
  Parameters: {"my_sig_key"=>"215530fcf6540e65215fc9c107d0159c", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822380", "action"=>"invite", "my_sig_appId"=>"1007725", "id"=>"35", "my_sig_sId"=>"100", "controller"=>"business", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014e6c0018d6a8a6ae8bf3c60bc72c", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014e6c0018d6a8a6ae8bf3c60bc72c', `updated_at` = '2008-10-24 04:26:07' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
Completed in 0.21900 (4 reqs/sec) | Rendering: 0.01600 (7%) | DB: 0.04700 (21%) | 200 OK [http://61.172.255.117/business/invite/35]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:26:08) [POST]
  Session ID: f6525f43541d25cae7d7187ced83a062
  Parameters: {"my_extra"=>"", "my_sig_key"=>"26395fa8cdbb9d23e27aacb0266bcaa1", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822381", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014e6d0018d6a873c25ea5d483a2ba", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014e6d0018d6a873c25ea5d483a2ba', `updated_at` = '2008-10-24 04:26:08' WHERE `id` = 26[0m
  [4;36;1mSQL (0.094000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1595454' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.000000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.28100 (3 reqs/sec) | Rendering: 0.14000 (49%) | DB: 0.09400 (33%) | 200 OK [http://61.172.255.117/home/friend/?&my_extra=]


Processing BusinessController#invite (for 127.0.0.1 at 2008-10-24 12:28:24) [POST]
  Session ID: dd147b1dd5b0035e71a7ffd9e3a6b292
  Parameters: {"my_sig_key"=>"fd723291d126912dae49ddbddb888964", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822517", "action"=>"invite", "my_sig_appId"=>"1007725", "id"=>"31", "my_sig_sId"=>"100", "controller"=>"business", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014ef50018d6a8a8c80b21d38ad432", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.016000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014ef50018d6a8a8c80b21d38ad432', `updated_at` = '2008-10-24 04:28:24' WHERE `id` = 26[0m
  [4;35;1mSQL (0.015000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '3' ) [0m
Completed in 0.07800 (12 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.03100 (39%) | 200 OK [http://61.172.255.117/business/invite/31]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:28:26) [POST]
  Session ID: e3470bff9d2af5d261e471ba29f1d80d
  Parameters: {"my_extra"=>"", "my_sig_key"=>"86d22dd32add69f2a3b5abe931102c30", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822519", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014ef70018d6a849e74613a8fb7637", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014ef70018d6a849e74613a8fb7637', `updated_at` = '2008-10-24 04:28:26' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '45312736' ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.000000)[0m   [0;1mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-24 04:28:26', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '45312736', 0, NULL, '2008-10-24 04:28:26')[0m
  [4;35;1mSQL (0.078000)[0m   [0mCOMMIT[0m
  [4;36;1mUsership Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mShip Load (0.015000)[0m   [0;1mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUsership Create (0.000000)[0m   [0;1mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-24 04:28:26', 1, 200, 10, 1000, 47, '2008-10-24 04:28:26', NULL)[0m
  [4;35;1mSQL (0.094000)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.40700 (2 reqs/sec) | Rendering: 0.01600 (3%) | DB: 0.26600 (65%) | 200 OK [http://61.172.255.117/home/friend/?&my_extra=]


Processing BusinessController#invite (for 127.0.0.1 at 2008-10-24 12:28:34) [POST]
  Session ID: 1239c41184930b8d47838b83dee79cde
  Parameters: {"my_sig_key"=>"6a719f0450cdd1fedeb6c900c1877ebc", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822527", "action"=>"invite", "my_sig_appId"=>"1007725", "id"=>"47", "my_sig_sId"=>"100", "controller"=>"business", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014eff0018d6a8309d60d0c857ceac", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014eff0018d6a8309d60d0c857ceac', `updated_at` = '2008-10-24 04:28:34' WHERE `id` = 26[0m
  [4;35;1mSQL (0.016000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '4' ) [0m
Completed in 0.07900 (12 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.03200 (40%) | 200 OK [http://61.172.255.117/business/invite/47]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:28:36) [POST]
  Session ID: d8be38805007d74d8e9da269c8c9e222
  Parameters: {"my_extra"=>"", "my_sig_key"=>"32d5eda3a6cc41d71eac3d08078a98e6", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822529", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014f010018d6a816797c79fb7ea1ca", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014f010018d6a816797c79fb7ea1ca', `updated_at` = '2008-10-24 04:28:36' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1626444' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.32800 (3 reqs/sec) | Rendering: 0.15600 (47%) | DB: 0.04700 (14%) | 200 OK [http://61.172.255.117/home/friend/?&my_extra=]


Processing BusinessController#invite (for 127.0.0.1 at 2008-10-24 12:29:16) [POST]
  Session ID: 40a736b4af8bc0165e40b35094241b06
  Parameters: {"my_sig_key"=>"75de1e5a9f3248f36c3459c85554cc1f", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822569", "action"=>"invite", "my_sig_appId"=>"1007725", "id"=>"35", "my_sig_sId"=>"100", "controller"=>"business", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014f290018d6a8ddcf50acc1e4ca1e", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.015000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014f290018d6a8ddcf50acc1e4ca1e', `updated_at` = '2008-10-24 04:29:16' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
Completed in 0.07800 (12 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.04600 (58%) | 200 OK [http://61.172.255.117/business/invite/35]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:29:18) [POST]
  Session ID: d55c88208125cf138cf128a940d24a30
  Parameters: {"my_extra"=>"", "my_sig_key"=>"6645773ecd09b2bd049521db16c232d4", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822571", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014f2b0018d6a8ba9698a6b2b53143", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014f2b0018d6a8ba9698a6b2b53143', `updated_at` = '2008-10-24 04:29:18' WHERE `id` = 26[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '45312736' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.21800 (4 reqs/sec) | Rendering: 0.10900 (50%) | DB: 0.04800 (22%) | 200 OK [http://61.172.255.117/home/friend/?&my_extra=]


Processing BusinessController#invite (for 127.0.0.1 at 2008-10-24 12:30:48) [POST]
  Session ID: 86395bf2d1ddde7954be4112bff68973
  Parameters: {"my_sig_key"=>"d40ff5a85efaad860b6dfad73a3c60a9", "ids"=>"47", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822661", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"business", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014f850018d6a8db6bdbede1676add", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014f850018d6a8db6bdbede1676add', `updated_at` = '2008-10-24 04:30:48' WHERE `id` = 26[0m
  [4;36;1mSQL (0.078000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '4' ) [0m
Completed in 0.14100 (7 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.09400 (66%) | 200 OK [http://61.172.255.117/business/invite?ids=47]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:30:50) [POST]
  Session ID: c99a9c830c75dee1a8dec50c8f4963c9
  Parameters: {"my_extra"=>"", "my_sig_key"=>"1fadc783caf8ed6adf50928d0af54065", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822663", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014f870018d6a8fd5a3b5a9561f82d", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.016000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014f870018d6a8fd5a3b5a9561f82d', `updated_at` = '2008-10-24 04:30:50' WHERE `id` = 26[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1626444' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.000000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.015000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.20300 (4 reqs/sec) | Rendering: 0.09400 (46%) | DB: 0.07800 (38%) | 200 OK [http://61.172.255.117/home/friend/?&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-24 12:31:27) [POST]
  Session ID: df0dbb5e23e094c69d40be9681f1a164
  Parameters: {"my_extra"=>"", "my_sig_key"=>"be172e853be7af25c4b76c398797cbd5", "my_sig_v"=>"0.1", "my_sig_time"=>"1224822701", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49014fad0018d6a8568a61ebc27e3349", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49014fad0018d6a8568a61ebc27e3349', `updated_at` = '2008-10-24 04:31:28' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1960366' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.31300 (3 reqs/sec) | Rendering: 0.09500 (30%) | DB: 0.06100 (19%) | 200 OK [http://61.172.255.117/home/friend?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-27 14:17:03) [POST]
  Session ID: b4224780866529c16f549b8939eec841
  Parameters: {"my_extra"=>"", "my_sig_key"=>"9d6f893fadc1fe4b2457d0c2f269ef02", "my_sig_v"=>"0.1", "my_sig_time"=>"1225088239", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49055cef0018d6a8f2a0accd6849ab0a", "my_sig_in_canvas"=>"1"}
  [4;36;1mSQL (0.000000)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.063000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mNotice Columns (0.062000)[0m   [0mSHOW FIELDS FROM `notices`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mNotice Create (0.000000)[0m   [0mINSERT INTO `notices` (`updated_at`, `sented`, `noticed`, `content`, `user_id`, `from_xid`, `to_xid`, `ltype`, `created_at`) VALUES('2008-10-27 06:17:03', NULL, NULL, '<a href=\"/home/friend/1627816\"><my:name uid=\"1627816\" /></a>踏入了海盗时代，从自己的港口收取了300金币保护费', 26, '1627816', '1627816', 10, '2008-10-27 06:17:03')[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `gold` = 3082, `award_updated_at` = '2008-10-27 06:17:03', `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49055cef0018d6a8f2a0accd6849ab0a', `updated_at` = '2008-10-27 06:17:04' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Load (0.000000)[0m   [0;1mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.031000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.032000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.92200 (1 reqs/sec) | Rendering: 0.25000 (27%) | DB: 0.29700 (32%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-27 14:18:05) [POST]
  Session ID: ba8d72efa188e56a2d77d88342c4f636
  Parameters: {"my_extra"=>"", "my_sig_key"=>"a08c4b49a6b53407c1e9993044a9d911", "my_sig_v"=>"0.1", "my_sig_time"=>"1225088301", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49055d2d0018d6a8e5f8b75e4381573e", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.015000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49055d2d0018d6a8e5f8b75e4381573e', `updated_at` = '2008-10-27 06:18:05' WHERE `id` = 26[0m
  [4;36;1mSQL (0.046000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.015000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;35;1mNotice Columns (0.015000)[0m   [0mSHOW FIELDS FROM `notices`[0m
Completed in 0.46900 (2 reqs/sec) | Rendering: 0.18900 (40%) | DB: 0.09100 (19%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-27 14:18:17) [POST]
  Session ID: 6eb3b520c2c6a3c279ffb0407bb1353b
  Parameters: {"my_extra"=>"", "my_sig_key"=>"93535e5c85af5529d27b6a3672c40977", "my_sig_v"=>"0.1", "my_sig_time"=>"1225088313", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49055d390018d6a8a29720c36ff5f2a6", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49055d390018d6a8a29720c36ff5f2a6', `updated_at` = '2008-10-27 06:18:17' WHERE `id` = 26[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.016000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.015000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;35;1mNotice Columns (0.016000)[0m   [0mSHOW FIELDS FROM `notices`[0m
Completed in 0.26500 (3 reqs/sec) | Rendering: 0.10900 (41%) | DB: 0.11000 (41%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing ActionController::Base#index (for 127.0.0.1 at 2008-10-27 14:25:13) [POST]
  Session ID: df4fc951b6a481d1a535158a4962f2f1
  Parameters: {"my_extra"=>"", "my_sig_key"=>"153370c19159bcd2520ba110df26df82", "my_sig_v"=>"0.1", "my_sig_time"=>"1225088725", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49055ed50018d6a853a4e1c8f1a1876e", "my_sig_in_canvas"=>"1"}


SyntaxError (D:/ruby/rails_apps/my/lpiratemy/app/controllers/application.rb:233: syntax error, unexpected kEND, expecting $end):
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:216:in `load_without_new_constant_marking'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:216:in `load_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:215:in `load_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:96:in `require_or_load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:61:in `depend_on'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:457:in `require_dependency'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:18:in `define_dispatcher_callbacks'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:177:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:177:in `evaluate_method'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:90:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:90:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:90:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:90:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:272:in `run_callbacks'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:128:in `reload_application'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:90:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:90:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:90:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:90:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:272:in `run_callbacks'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:106:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2008-10-27 14:26:41) [POST]
  Session ID: e76e05e21eda077e5affb2857190e7a3
  Parameters: {"my_extra"=>"", "my_sig_key"=>"7a84f305761108defd0765b71e7f9600", "my_sig_v"=>"0.1", "my_sig_time"=>"1225088817", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49055f310018d6a805f133f1ff83ef0d", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.015000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = 159117715912091591478159149415918161591894159202415954541626444162721416309991641434167086919603664158680545312736111622491, `session_key` = '49055f310018d6a805f133f1ff83ef0d', `updated_at` = '2008-10-27 06:26:41' WHERE `id` = 26[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.000000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in (159117715912091591478159149415918161591894159202415954541626444162721416309991641434167086919603664158680545312736111622491,'1627816') or to_xid in (159117715912091591478159149415918161591894159202415954541626444162721416309991641434167086919603664158680545312736111622491,'1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.000000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;35;1mNotice Columns (0.000000)[0m   [0mSHOW FIELDS FROM `notices`[0m


ActionView::TemplateError (undefined method `each' for #<Bignum:0x48fabfc>) on line #233 of home/index.html.erb:
230: <div id="friendlist"  >
231: 
232: <h4>海盗好友</h4>
233: <% @current_user.friend_ids.each do |friend| %>
234: <div>
235: <%= link_to ml.name({"uid" => friend}),:controller => :home,:action => :friend,:id => friend %>
236: </div>

    app/views/home/index.html.erb:233:in `_run_erb_47app47views47home47index46html46erb'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:342:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:342:in `execute'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template_handlers/compilable.rb:29:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template_handlers/compilable.rb:29:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:35:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:845:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1161:in `default_render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1167:in `perform_action_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#index (for 127.0.0.1 at 2008-10-27 14:27:17) [POST]
  Session ID: a761be6692dc677f1f4b78abd7cde94c
  Parameters: {"my_extra"=>"", "my_sig_key"=>"295d73cc316cdb2ec4ec410f7e6fc7ae", "my_sig_v"=>"0.1", "my_sig_time"=>"1225088853", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49055f550018d6a8c371048f8dfc162a", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m


NoMethodError (undefined method `join' for #<String:0x4669870>):
    /app/controllers/application.rb:37:in `set_current_user'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:191:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:591:in `run_before_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:577:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#index (for 127.0.0.1 at 2008-10-27 14:27:46) [POST]
  Session ID: 08521b48c26f994bcbf20e58accd16f7
  Parameters: {"my_extra"=>"", "my_sig_key"=>"c05c73f1c964a59a51ef7fb04a74a628", "my_sig_v"=>"0.1", "my_sig_time"=>"1225088882", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491", "my_sig_sessionId"=>"49055f720018d6a894b22a2dfafdd6bd", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n', `session_key` = '49055f720018d6a894b22a2dfafdd6bd', `updated_at` = '2008-10-27 06:27:47' WHERE `id` = 26[0m
  [4;36;1mSQL (0.032000)[0m   [0;1mCOMMIT[0m
  [4;35;1mNotice Load (0.016000)[0m   [0mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.016000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;35;1mNotice Columns (0.015000)[0m   [0mSHOW FIELDS FROM `notices`[0m
Completed in 0.43800 (2 reqs/sec) | Rendering: 0.14100 (32%) | DB: 0.09500 (21%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-27 15:16:50) [POST]
  Session ID: b08723a845bf2ffa87e0b449ca8eedf1
  Parameters: {"my_extra"=>"", "my_sig_key"=>"1581520315e7e27cfbcf7af21c3f9b46", "my_sig_v"=>"0.1", "my_sig_time"=>"1225091826", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056af20018d6a8590a01e53c2376a2", "my_sig_in_canvas"=>"1"}
  [4;36;1mSQL (0.000000)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n- \"121149113\"\n', `session_key` = '49056af20018d6a8590a01e53c2376a2', `updated_at` = '2008-10-27 07:16:51' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Load (0.015000)[0m   [0;1mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','121149113','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','121149113','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m


ActionView::TemplateError (comparison of Fixnum with String failed) on line #198 of home/index.html.erb:
195:     
196: 	<%= usershipimg(ship)%><br>
197: 	<%= radio_button  "usership","id", ship.id , :checked => "checked" %> <%= ship.name %>
198: 	<% if ship.robof && ship.robof > '0'   %>
199: 	<span class="gray">(正在<%= link_to ml.name({"uid"=>ship.robof,"linked" => "false"}), :controller => :home , :action => :friend ,:id => ship.robof %>的岛上烧杀抢掠)</span><br>
200:      <% if ship.robtime %>已经掠夺了<%= conversion(Time.now - ship.robtime,ship.capacity,ship.robspeed).to_i %>个金币<% end %>
201: 	<% end %>

    app/views/home/index.html.erb:198:in `>'
    app/views/home/index.html.erb:198:in `_run_erb_47app47views47home47index46html46erb'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/associations/association_collection.rb:277:in `method_missing_without_paginate'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/associations/association_proxy.rb:171:in `method_missing'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/associations/association_proxy.rb:171:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/associations/association_proxy.rb:171:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/associations/association_proxy.rb:171:in `method_missing'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/associations/association_collection.rb:277:in `method_missing_without_paginate'
    vendor/plugins/will_paginate/lib/will_paginate/finder.rb:164:in `method_missing'
    app/views/home/index.html.erb:192:in `_run_erb_47app47views47home47index46html46erb'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:342:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:342:in `execute'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template_handlers/compilable.rb:29:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template_handlers/compilable.rb:29:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:35:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:845:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1161:in `default_render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1167:in `perform_action_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#index (for 127.0.0.1 at 2008-10-27 15:18:21) [POST]
  Session ID: e82a15893451490f07b5aa4caddabe94
  Parameters: {"my_extra"=>"", "my_sig_key"=>"aa9f96764b191f0a0520eba7d7ab249d", "my_sig_v"=>"0.1", "my_sig_time"=>"1225091917", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056b4d0018d6a804a8d16c4e9db1a8", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n- \"121149113\"\n', `session_key` = '49056b4d0018d6a804a8d16c4e9db1a8', `updated_at` = '2008-10-27 07:18:21' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Load (0.000000)[0m   [0;1mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','121149113','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','121149113','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.016000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;36;1mNotice Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `notices`[0m
Completed in 0.45300 (2 reqs/sec) | Rendering: 0.17100 (37%) | DB: 0.07900 (17%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#index (for 127.0.0.1 at 2008-10-27 15:19:17) [POST]
  Session ID: c8525193efbd6aa289c31281dafef4c7
  Parameters: {"my_extra"=>"", "my_sig_key"=>"d16488cea3b60ca7168b551625679fb4", "my_sig_v"=>"0.1", "my_sig_time"=>"1225091972", "action"=>"index", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056b840018d6a896273b8b7acfb833", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n- \"121149113\"\n', `session_key` = '49056b840018d6a896273b8b7acfb833', `updated_at` = '2008-10-27 07:19:17' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Load (0.000000)[0m   [0;1mSELECT * FROM `notices` WHERE (( from_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','121149113','1627816') or to_xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','121149113','1627816') ) and ltype <> 11) ORDER BY updated_at desc LIMIT 20[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUsership Load (0.000000)[0m   [0mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;36;1mUsership Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Load (0.000000)[0m   [0mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;36;1mShip Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `ships`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
  [4;36;1mNotice Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `notices`[0m
Completed in 0.43800 (2 reqs/sec) | Rendering: 0.14200 (32%) | DB: 0.07700 (17%) | 200 OK [http://61.172.255.117/?&my_extra=]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-27 15:19:58) [POST]
  Session ID: c9998b94d3265843239b06b217e990b3
  Parameters: {"my_extra"=>"", "my_sig_key"=>"3044f71ae7eb348d52fcb42608c335a1", "my_sig_v"=>"0.1", "my_sig_time"=>"1225092014", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056bae0018d6a879c43d3f289a5d59", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n- \"121149113\"\n', `session_key` = '49056bae0018d6a879c43d3f289a5d59', `updated_at` = '2008-10-27 07:19:59' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '111622491' ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.000000)[0m   [0;1mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-27 07:19:59', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '111622491', 0, NULL, '2008-10-27 07:19:59')[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
  [4;36;1mUsership Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mShip Load (0.016000)[0m   [0;1mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUsership Create (0.000000)[0m   [0;1mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-27 07:19:59', 1, 200, 10, 1000, 48, '2008-10-27 07:19:59', NULL)[0m
  [4;35;1mSQL (0.093000)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering home/index


ActionView::TemplateError (undefined local variable or method `manyou_session' for #<ActionView::Base:0x4928174>) on line #105 of home/index.html.erb:
102:  <%= submit_tag "贸易" , :name => "dock" ,:value => "贸易" %>
103: </form>
104: <%= ml.mlelse %>
105: <%= ml.request_form({:type => "海盗时代",:action => "business/invite?ids=#{@user.id}",:invite => "true" ,:content =>"邀请你一起来做海盗<my:req-choice url='#{manyou_session.perfix}userapp.php?id=1007758' label='我愿意'>" ,:id=>"myformb",:method => "POST"}) %>
106: <%= ml.request_form_submit({"uid" => @user.xid,"label" => "倒卖" }) %>
107: <%= ml.end_request_form %>
108: 

    app/views/home/index.html.erb:105:in `_run_erb_47app47views47home47index46html46erb'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:342:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:342:in `execute'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template_handlers/compilable.rb:29:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template_handlers/compilable.rb:29:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:35:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/template.rb:22:in `render_template'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_view/base.rb:248:in `render_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1112:in `render_for_file'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:869:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:884:in `render_with_no_layout'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:51:in `render'
    app/controllers/home_controller.rb:19:in `friend'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1166:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1166:in `perform_action_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:579:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#friend (for 127.0.0.1 at 2008-10-27 15:23:50) [POST]
  Session ID: c010cecd8022235cb5f6c7df9eedd85a
  Parameters: {"my_extra"=>"", "my_sig_key"=>"2d18bfa65dacfab8a15bb2dd4bf19721", "my_sig_v"=>"0.1", "my_sig_time"=>"1225092243", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056c930018d6a8c4027fad8f0da61b", "my_sig_in_canvas"=>"1"}


NoMethodError (undefined method `perfix' for #<Rmanyou::Session:0x462f904>):
    /app/controllers/application.rb:27:in `set_current_user'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:191:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:591:in `run_before_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:577:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#friend (for 127.0.0.1 at 2008-10-27 15:24:09) [POST]
  Session ID: 88a0d3ba36b835b9eb8a55ed3fad093e
  Parameters: {"my_extra"=>"", "my_sig_key"=>"d9779c61353e8aa1ad428cc02cca53d5", "my_sig_v"=>"0.1", "my_sig_time"=>"1225092264", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056ca80018d6a890c5a242c79b9296", "my_sig_in_canvas"=>"1"}


NoMethodError (undefined method `perfix' for #<Rmanyou::Session:0x48eb558>):
    /app/controllers/application.rb:27:in `set_current_user'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:191:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:591:in `run_before_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:577:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#friend (for 127.0.0.1 at 2008-10-27 15:24:37) [POST]
  Session ID: 62f8711f8359984db5acb2960a58b0ae
  Parameters: {"my_extra"=>"", "my_sig_key"=>"4698708eba106077bf77c8536e1b39dd", "my_sig_v"=>"0.1", "my_sig_time"=>"1225092292", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056cc40018d6a8970f7dbbb1880fc1", "my_sig_in_canvas"=>"1"}


NoMethodError (undefined method `perfix' for #<Rmanyou::Session:0x475d308>):
    /app/controllers/application.rb:27:in `set_current_user'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:191:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:591:in `run_before_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:577:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#friend (for 127.0.0.1 at 2008-10-27 15:25:14) [POST]
  Session ID: 2bfb096cdd8f9b1eab72777f61090900
  Parameters: {"my_extra"=>"", "my_sig_key"=>"102abff60730e3f8d0986c542c8c21cf", "my_sig_v"=>"0.1", "my_sig_time"=>"1225092330", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056cea0018d6a85926c56d2c5c1848", "my_sig_in_canvas"=>"1"}


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.perfix=):
    /app/controllers/application.rb:27:in `set_current_user'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:191:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:591:in `run_before_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:577:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#friend (for 127.0.0.1 at 2008-10-27 15:25:58) [POST]
  Session ID: 40a533b46ca316c741ec0898725d429b
  Parameters: {"my_extra"=>"", "my_sig_key"=>"bfb8848efb63e85c135413523a71569b", "my_sig_v"=>"0.1", "my_sig_time"=>"1225092374", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056d160018d6a8d63a9f88c656fce2", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.000000)[0m   [0mSHOW FIELDS FROM `users`[0m


NoMethodError (undefined method `perfix=' for #<User:0x453fc24>):
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/attribute_methods.rb:251:in `method_missing'
    /app/controllers/application.rb:36:in `set_current_user'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:191:in `call'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:591:in `run_before_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:577:in `call_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:572:in `perform_action_without_benchmark'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `send'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    D:/ruby/ruby/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    D:/ruby/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

500 displayed
Rendering D:/ruby/rails_apps/my/lpiratemy/public/500.html


Processing HomeController#friend (for 127.0.0.1 at 2008-10-27 15:28:02) [POST]
  Session ID: 65d56fe9f498abef1a85a1503b770d76
  Parameters: {"my_extra"=>"", "my_sig_key"=>"9c2cde1998e0548dbbe083bd38ce18a6", "my_sig_v"=>"0.1", "my_sig_time"=>"1225092498", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056d920018d6a85866f66568722f39", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.016000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n- \"121149113\"\n', `session_key` = '49056d920018d6a85866f66568722f39', `updated_at` = '2008-10-27 07:28:02' WHERE `id` = 26[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1641434' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.015000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.016000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.39000 (2 reqs/sec) | Rendering: 0.12500 (32%) | DB: 0.09400 (24%) | 200 OK [http://61.172.255.117/home/friend?&my_extra=]


Processing BusinessController#business (for 127.0.0.1 at 2008-10-27 15:28:05) [POST]
  Session ID: 204350705312706fdb1acbd49f142704
  Parameters: {"my_extra"=>"", "my_sig_key"=>"da23793cc428ec52a99b6681327632a1", "my_sig_v"=>"0.1", "my_sig_time"=>"1225092501", "action"=>"business", "my_sig_appId"=>"1007725", "id"=>"33", "my_sig_sId"=>"100", "controller"=>"business", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "dock"=>"贸易", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056d950018d6a83b8115abd7e78028", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.015000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n- \"121149113\"\n', `session_key` = '49056d950018d6a83b8115abd7e78028', `updated_at` = '2008-10-27 07:28:05' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 33) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.016000)[0m   [0;1mUPDATE `users` SET `gold` = 3186, `business_update_at` = '2008-10-27 07:28:05', `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n- \"121149113\"\n', `business_exp` = 12, `business_count` = 1, `updated_at` = '2008-10-27 07:28:05' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mNotice Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `notices`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mNotice Create (0.000000)[0m   [0;1mINSERT INTO `notices` (`updated_at`, `sented`, `noticed`, `content`, `user_id`, `from_xid`, `to_xid`, `ltype`, `created_at`) VALUES('2008-10-27 07:28:06', NULL, NULL, '<a href=\"/home/friend/1627816\"><my:name uid=\"1627816\" /></a>开着TA的商船与<a href=\"/home/friend/1641434\"><my:name uid=\"1641434\" /></a>进行友好贸易，赚了104金币', 26, '1627816', '1641434', 11, '2008-10-27 07:28:06')[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
Completed in 0.50000 (2 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.15600 (31%) | 200 OK [http://61.172.255.117/business/business/33?&my_extra=&dock=%E8%B4%B8%E6%98%93]


Processing HomeController#friend (for 127.0.0.1 at 2008-10-27 15:28:09) [POST]
  Session ID: efd44d01e898921da43eb8c5703f9041
  Parameters: {"my_extra"=>"", "my_sig_key"=>"efbb676a9a57557219a20204a91ecff0", "notice"=>"成功与<a href=\"/home/friend/1641434\"><my:name uid=\"1641434\" /></a>交易，赚了104金币", "my_sig_v"=>"0.1", "my_sig_time"=>"1225092502", "action"=>"friend", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056d960018d6a87c8740a98d9a3d53", "my_sig_in_canvas"=>"1"}
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;35;1mUser Columns (0.015000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.031000)[0m   [0mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n- \"121149113\"\n', `session_key` = '49056d960018d6a87c8740a98d9a3d53', `updated_at` = '2008-10-27 07:28:09' WHERE `id` = 26[0m
  [4;36;1mSQL (0.047000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1630999' ) [0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUsership Load (0.000000)[0m   [0;1mSELECT * FROM `userships` WHERE (`userships`.user_id = 26) [0m
  [4;35;1mUsership Columns (0.016000)[0m   [0mSHOW FIELDS FROM `userships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE ( id = 1 ) [0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid = '1591209' ) [0m
Completed in 0.28100 (3 reqs/sec) | Rendering: 0.12400 (44%) | DB: 0.10900 (38%) | 200 OK [http://61.172.255.117/home/friend/?notice=%E6%88%90%E5%8A%9F%E4%B8%8E%3Ca%20href=%22/home/friend/1641434%22%3E%3Cmy:name%20uid=%221641434%22%20/%3E%3C/a%3E%E4%BA%A4%E6%98%93%EF%BC%8C%E8%B5%9A%E4%BA%86104%E9%87%91%E5%B8%81&&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-27 15:28:37) [POST]
  Session ID: 0e8be946818855219241f1a290392b8f
  Parameters: {"my_extra"=>"", "my_sig_key"=>"33f5de41256d92cc5d79e98727817c89", "my_sig_v"=>"0.1", "my_sig_time"=>"1225092532", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056db40018d6a88c45c71627ae26fd", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.015000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n- \"121149113\"\n', `session_key` = '49056db40018d6a88c45c71627ae26fd', `updated_at` = '2008-10-27 07:28:37' WHERE `id` = 26[0m
  [4;35;1mSQL (0.032000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','121149113') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.10900 (9 reqs/sec) | Rendering: 0.01600 (14%) | DB: 0.06300 (57%) | 200 OK [http://61.172.255.117/home/invite?&my_extra=]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-27 15:29:45) [POST]
  Session ID: f4b895964a27fe71a6f1a0db415e91d0
  Parameters: {"my_sig_key"=>"a6a53de8b8474d4731cacdce95d9a2e6", "ids"=>{"0"=>"121149113"}, "mfs_typeahead_req_form_app1007725_myformb"=>"输入好友用户名", "my_sig_v"=>"0.1", "my_sig_time"=>"1225092601", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056df90018d6a8a2e16dcce8f5f680", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.016000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n- \"121149113\"\n', `session_key` = '49056df90018d6a8a2e16dcce8f5f680', `updated_at` = '2008-10-27 07:29:45' WHERE `id` = 26[0m
  [4;35;1mSQL (0.047000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid= '0121149113' ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.000000)[0m   [0;1mINSERT INTO `users` (`bship_ftime`, `dock4_time`, `session_key`, `updated_at`, `dock1`, `dock3_time`, `business_exp`, `dock2`, `dock2_time`, `invite`, `dock1_time`, `business_update_at`, `award_updated_at`, `gold`, `admin`, `dock3`, `business_top`, `friend_ids`, `dock4`, `business_count`, `xid`, `pgold`, `business_level`, `created_at`) VALUES(NULL, NULL, NULL, '2008-10-27 07:29:45', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 500, NULL, NULL, NULL, NULL, NULL, NULL, '--- \n- \"0\"\n- \"121149113\"\n', 0, NULL, '2008-10-27 07:29:45')[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUsership Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `userships`[0m
  [4;35;1mShip Columns (0.000000)[0m   [0mSHOW FIELDS FROM `ships`[0m
  [4;36;1mShip Load (0.000000)[0m   [0;1mSELECT * FROM `ships` WHERE (`ships`.`id` = 1) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUsership Create (0.000000)[0m   [0;1mINSERT INTO `userships` (`name`, `revivaltime`, `updated_at`, `ship_id`, `robspeed`, `attack`, `capacity`, `user_id`, `created_at`, `robof`) VALUES('人力小舟', NULL, '2008-10-27 07:29:45', 1, 200, 10, 1000, 49, '2008-10-27 07:29:45', NULL)[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `invite` = '--- \n- \"1627816\"\n', `friend_ids` = NULL, `updated_at` = '2008-10-27 07:29:45' WHERE `id` = 49[0m
  [4;36;1mSQL (0.031000)[0m   [0;1mCOMMIT[0m
Completed in 0.34400 (2 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.15600 (45%) | 200 OK [http://61.172.255.117/home/invite]


Processing HomeController#invite (for 127.0.0.1 at 2008-10-27 15:29:52) [POST]
  Session ID: 88cbfa23eb694fd13373849f8cf1b1aa
  Parameters: {"my_extra"=>"", "my_sig_key"=>"c2b29d5a390d87d9b6a5027641135281", "notice"=>"成功邀请了1个人，只要他们加入游戏，你就可以获得奖励哦^_^ 谢谢你的支持", "my_sig_v"=>"0.1", "my_sig_time"=>"1225092608", "action"=>"invite", "my_sig_appId"=>"1007725", "my_sig_sId"=>"100", "controller"=>"home", "my_sig_prefix"=>"http://uchome.developer.manyou.com/uchome/", "my_sig_uId"=>"1627816", "my_sig_added"=>"1", "my_sig_friends"=>"1591177,1591209,1591478,1591494,1591816,1591894,1592024,1595454,1626444,1627214,1630999,1641434,1670869,1960366,41586805,45312736,111622491,121149113", "my_sig_sessionId"=>"49056e000018d6a8a0f9156c46fbfb0a", "my_sig_in_canvas"=>"1"}
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE ( xid= '1627816' ) [0m
  [4;36;1mUser Columns (0.015000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.016000)[0m   [0;1mUPDATE `users` SET `invite` = 0, `friend_ids` = '--- \n- \"1591177\"\n- \"1591209\"\n- \"1591478\"\n- \"1591494\"\n- \"1591816\"\n- \"1591894\"\n- \"1592024\"\n- \"1595454\"\n- \"1626444\"\n- \"1627214\"\n- \"1630999\"\n- \"1641434\"\n- \"1670869\"\n- \"1960366\"\n- \"41586805\"\n- \"45312736\"\n- \"111622491\"\n- \"121149113\"\n', `session_key` = '49056e000018d6a8a0f9156c46fbfb0a', `updated_at` = '2008-10-27 07:29:52' WHERE `id` = 26[0m
  [4;35;1mSQL (0.031000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE ( xid in ('1591177','1591209','1591478','1591494','1591816','1591894','1592024','1595454','1626444','1627214','1630999','1641434','1670869','1960366','41586805','45312736','111622491','121149113') and session_key is not null ) [0m
Rendering template within layouts/application
Rendering home/invite
Completed in 0.09400 (10 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.06200 (65%) | 200 OK [http://61.172.255.117/home/invite?notice=%E6%88%90%E5%8A%9F%E9%82%80%E8%AF%B7%E4%BA%861%E4%B8%AA%E4%BA%BA%EF%BC%8C%E5%8F%AA%E8%A6%81%E4%BB%96%E4%BB%AC%E5%8A%A0%E5%85%A5%E6%B8%B8%E6%88%8F%EF%BC%8C%E4%BD%A0%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%8E%B7%E5%BE%97%E5%A5%96%E5%8A%B1%E5%93%A6%5E_%5E%20%E8%B0%A2%E8%B0%A2%E4%BD%A0%E7%9A%84%E6%94%AF%E6%8C%81&&my_extra=]
